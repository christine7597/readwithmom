<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReadWithMom - ì•„ë™ì‹¬ë¦¬ ë„ì›€ì±… ì˜¤ë””ì˜¤ë¶</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 50%, #ff9a9e 100%);
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="2" fill="rgba(255,255,255,0.1)"/></svg>');
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            animation: fadeInDown 0.8s ease-out;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.3em;
            opacity: 0.95;
        }

        .main-card {
            background: white;
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
            animation: fadeInUp 0.8s ease-out;
            position: relative;
            overflow: hidden;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .main-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #ff9a9e, #fecfef, #ff9a9e);
        }

        .tabs {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            border-bottom: 3px solid #f0f0f0;
            padding-bottom: 10px;
        }

        .tab-btn {
            padding: 15px 30px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: none;
            border-radius: 15px 15px 0 0;
            color: #666;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .tab-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .tab-btn:hover::before {
            left: 100%;
        }

        .tab-btn:hover {
            background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            color: white;
            box-shadow: 0 5px 20px rgba(255, 154, 158, 0.4);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .tab-content.active {
            display: block;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 12px;
            color: #333;
            font-weight: 600;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        textarea {
            width: 100%;
            padding: 20px;
            border: 3px solid #e0e0e0;
            border-radius: 20px;
            font-size: 1.1em;
            font-family: inherit;
            line-height: 1.8;
            resize: vertical;
            min-height: 250px;
            transition: all 0.3s;
            background: #fafafa;
        }

        textarea:focus {
            outline: none;
            border-color: #ff9a9e;
            background: white;
            box-shadow: 0 0 0 4px rgba(255, 154, 158, 0.1);
        }

        .char-count {
            text-align: right;
            color: #999;
            font-size: 0.95em;
            margin-top: 8px;
            font-weight: 500;
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin: 30px 0;
            padding: 25px;
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            border-radius: 20px;
            border: 2px solid #f0f0f0;
        }

        .control-group {
            display: flex;
            flex-direction: column;
        }

        .control-group label {
            font-size: 1em;
            color: #555;
            margin-bottom: 10px;
            font-weight: 600;
        }

        select, input[type="range"] {
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1em;
            background: white;
            transition: all 0.3s;
        }

        select:focus, input[type="range"]:focus {
            outline: none;
            border-color: #ff9a9e;
            box-shadow: 0 0 0 3px rgba(255, 154, 158, 0.1);
        }

        input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            height: 8px;
            background: linear-gradient(90deg, #ff9a9e, #fecfef);
            border-radius: 5px;
            padding: 0;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #ff9a9e;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            background: #ff6b9d;
        }

        .speed-display {
            text-align: center;
            color: #ff6b9d;
            font-weight: bold;
            font-size: 1.1em;
            margin-top: 8px;
        }

        .button-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 30px 0;
        }

        .btn {
            padding: 18px 35px;
            border: none;
            border-radius: 15px;
            font-size: 1.2em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
            min-width: 160px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            color: #333;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 154, 158, 0.4);
        }

        .btn-primary:disabled {
            background: #ddd;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: #333;
            border: 2px solid #e0e0e0;
        }

        .btn-secondary:hover {
            background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);
            transform: translateY(-2px);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
        }

        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
        }

        .status {
            margin: 25px 0;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            font-weight: 600;
            font-size: 1.1em;
            transition: all 0.3s;
        }

        .status.playing {
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            color: #155724;
            border: 3px solid #b1dfbb;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .status.stopped {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: #666;
            border: 3px solid #e0e0e0;
        }

        .progress-container {
            margin: 20px 0;
            display: none;
        }

        .progress-container.active {
            display: block;
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff9a9e, #fecfef, #ff9a9e);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
            transition: width 0.3s;
            border-radius: 10px;
        }

        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .example-texts {
            margin-top: 40px;
            padding-top: 30px;
            border-top: 3px solid #f0f0f0;
        }

        .example-texts h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.5em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .example-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .example-card {
            background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .example-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,154,158,0.2), transparent);
            transition: left 0.5s;
        }

        .example-card:hover::before {
            left: 100%;
        }

        .example-card:hover {
            transform: translateY(-5px);
            border-color: #ff9a9e;
            box-shadow: 0 10px 30px rgba(255, 154, 158, 0.3);
        }

        .example-card-title {
            font-weight: 700;
            color: #333;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .example-card-desc {
            font-size: 0.9em;
            color: #666;
            line-height: 1.5;
        }

        .info-text {
            font-size: 0.9em;
            color: #666;
            margin-top: 8px;
            padding: 10px;
            background: #fff3cd;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            .main-card {
                padding: 25px;
            }
            .example-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“š ReadWithMom</h1>
            <p>ì•„ë™ì‹¬ë¦¬ ë„ì›€ì±… ì˜¤ë””ì˜¤ë¶ - ì•„ì´ë¥¼ ìœ„í•œ ì‹¬ë¦¬í•™ ì½˜í…ì¸ ë¥¼ ë¶€ë“œëŸ¬ìš´ ëª©ì†Œë¦¬ë¡œ</p>
        </div>

        <div class="main-card">
            <div class="tabs">
                <button class="tab-btn active" onclick="showTab('parent')">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ ë¶€ëª¨ì™€ í•¨ê»˜</button>
                <button class="tab-btn" onclick="showTab('child')">ğŸ‘¶ ì•„ì´ë¥¼ ìœ„í•œ</button>
            </div>

            <!-- ë¶€ëª¨ì™€ í•¨ê»˜ ì„¹ì…˜ -->
            <div id="parent" class="tab-content active">
                <div class="form-group">
                    <label for="textInput">ğŸ“– ë¶€ëª¨ì™€ ì•„ì´ê°€ í•¨ê»˜ ì†Œí†µí•˜ë©° ì½ì„ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”</label>
                    <textarea id="textInput" placeholder="ë¶€ëª¨ì™€ ì•„ì´ê°€ í•¨ê»˜ ì½ê³  ëŒ€í™”í•  ìˆ˜ ìˆëŠ” ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”...&#10;&#10;ì˜ˆ: ì˜¤ëŠ˜ í•˜ë£¨ ì–´ë–¤ ì¼ì´ ìˆì—ˆë‚˜ìš”? ê¸°ë¶„ì´ ì–´ë• ë‚˜ìš”? í•¨ê»˜ ì´ì•¼ê¸°í•´ë³¼ê¹Œìš”?"></textarea>
                    <div class="char-count">
                        <span id="charCount">0</span> ê¸€ì
                    </div>
                </div>

                <div class="example-texts">
                    <h3>ğŸ“š ì•„ë™ì‹¬ë¦¬ ì£¼ì œë³„ ì½˜í…ì¸ </h3>
                    <div class="example-grid">
                        <div class="example-card" onclick="loadBook('parent', 'emotion')">
                            <div class="example-card-title">ğŸ˜Š ê°ì • ì¸ì‹í•˜ê¸°</div>
                            <div class="example-card-desc">ì•„ì´ì˜ ê°ì •ì„ ì´í•´í•˜ê³  í‘œí˜„í•˜ë„ë¡ ë•ê¸°</div>
                        </div>
                        <div class="example-card" onclick="loadBook('parent', 'selfesteem')">
                            <div class="example-card-title">ğŸ’ª ìì¡´ê° í‚¤ìš°ê¸°</div>
                            <div class="example-card-desc">ê±´ê°•í•œ ìì¡´ê° í˜•ì„±ì„ ìœ„í•œ ëŒ€í™”ë²•</div>
                        </div>
                        <div class="example-card" onclick="loadBook('parent', 'social')">
                            <div class="example-card-title">ğŸ‘¥ ì‚¬íšŒì„± ë°œë‹¬</div>
                            <div class="example-card-desc">ì¹œêµ¬ ê´€ê³„ì™€ í˜‘ë ¥ ëŠ¥ë ¥ ê¸°ë¥´ê¸°</div>
                        </div>
                        <div class="example-card" onclick="loadBook('parent', 'regulation')">
                            <div class="example-card-title">ğŸ§˜ ìê¸° ì¡°ì ˆ ëŠ¥ë ¥</div>
                            <div class="example-card-desc">í™” ì¡°ì ˆê³¼ ì¶©ë™ í†µì œ ë°©ë²•</div>
                        </div>
                        <div class="example-card" onclick="loadBook('parent', 'attachment')">
                            <div class="example-card-title">ğŸ’• ì• ì°©ê³¼ ì•ˆì •ê°</div>
                            <div class="example-card-desc">ê±´ê°•í•œ ë¶€ëª¨-ìë…€ ê´€ê³„ í˜•ì„±</div>
                        </div>
                        <div class="example-card" onclick="loadBook('parent', 'empathy')">
                            <div class="example-card-title">â¤ï¸ ê³µê° ëŠ¥ë ¥</div>
                            <div class="example-card-desc">ë‹¤ë¥¸ ì‚¬ëŒì˜ ê°ì • ì´í•´í•˜ê¸°</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ì•„ì´ë¥¼ ìœ„í•œ ì„¹ì…˜ -->
            <div id="child" class="tab-content">
                <div class="form-group">
                    <label for="textInputChild">ğŸ“– ì•„ì´ì—ê²Œ ì½ì–´ì£¼ë©° í˜¼ì ì„±ì°°í•  ìˆ˜ ìˆëŠ” ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”</label>
                    <textarea id="textInputChild" placeholder="ì•„ì´ì—ê²Œ ì½ì–´ì£¼ë©´ì„œ ì•„ì´ê°€ ìŠ¤ìŠ¤ë¡œ ìƒê°í•´ë³¼ ìˆ˜ ìˆëŠ” ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”...&#10;&#10;ì˜ˆ: ë‚˜ëŠ” ì–´ë–¤ ê°ì •ì„ ëŠë‚„ ìˆ˜ ìˆì„ê¹Œìš”? í™”ê°€ ë‚  ë•ŒëŠ” ì–´ë–»ê²Œ í•˜ë©´ ì¢‹ì„ê¹Œìš”?"></textarea>
                    <div class="char-count">
                        <span id="charCountChild">0</span> ê¸€ì
                    </div>
                </div>

                <div class="example-texts">
                    <h3>ğŸ“š ì•„ë™ì‹¬ë¦¬ ì£¼ì œë³„ ì½˜í…ì¸ </h3>
                    <div class="example-grid">
                        <div class="example-card" onclick="loadBook('child', 'feelings')">
                            <div class="example-card-title">ğŸ˜Š ë‚´ ê°ì • ì•Œì•„ë³´ê¸°</div>
                            <div class="example-card-desc">ê¸°ì¨, ìŠ¬í””, í™”ë‚¨ ë“± ê°ì • ì´í•´í•˜ê¸°</div>
                        </div>
                        <div class="example-card" onclick="loadBook('child', 'friends')">
                            <div class="example-card-title">ğŸ‘« ì¹œêµ¬ì™€ í•¨ê»˜í•˜ê¸°</div>
                            <div class="example-card-desc">ì¹œêµ¬ ê´€ê³„ì™€ ë°°ë ¤í•˜ëŠ” ë§ˆìŒ</div>
                        </div>
                        <div class="example-card" onclick="loadBook('child', 'brave')">
                            <div class="example-card-title">ğŸ’ª ìš©ê¸° ë‚´ê¸°</div>
                            <div class="example-card-desc">ë‘ë ¤ì›€ ê·¹ë³µê³¼ ë„ì „ ì •ì‹ </div>
                        </div>
                        <div class="example-card" onclick="loadBook('child', 'kind')">
                            <div class="example-card-title">â¤ï¸ ì¹œì ˆí•˜ê²Œ ëŒ€í•˜ê¸°</div>
                            <div class="example-card-desc">ê³µê°ê³¼ ë°°ë ¤ì˜ ë§ˆìŒ</div>
                        </div>
                        <div class="example-card" onclick="loadBook('child', 'calm')">
                            <div class="example-card-title">ğŸ§˜ ë§ˆìŒ ì§„ì •ì‹œí‚¤ê¸°</div>
                            <div class="example-card-desc">í™”ê°€ ë‚  ë•Œ ì¡°ì ˆí•˜ëŠ” ë°©ë²•</div>
                        </div>
                        <div class="example-card" onclick="loadBook('child', 'special')">
                            <div class="example-card-title">â­ ë‚˜ë§Œì˜ íŠ¹ë³„í•¨</div>
                            <div class="example-card-desc">ìì‹ ì— ëŒ€í•œ ê¸ì •ì  ì¸ì‹</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="controls">
                <div class="control-group">
                    <label>ğŸ¤ ìŒì„± ì„ íƒ</label>
                    <select id="voiceSelect">
                        <option value="">ìë™ ì„ íƒ (ê°€ì¥ ìì—°ìŠ¤ëŸ¬ìš´ ìŒì„±)</option>
                    </select>
                    <div class="info-text">
                        ğŸ’¡ ë‹¤ì–‘í•œ í•œêµ­ì–´ ìŒì„± ì¤‘ ì„ íƒ ê°€ëŠ¥í•©ë‹ˆë‹¤
                    </div>
                </div>

                <div class="control-group">
                    <label>âš¡ ì½ê¸° ì†ë„</label>
                    <input type="range" id="speedRange" min="0.5" max="2" step="0.1" value="0.9">
                    <div class="speed-display" id="speedDisplay">0.9x</div>
                </div>
            </div>
            
            <div class="progress-container" id="progressContainer">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                </div>
            </div>

            <div class="button-group">
                <button class="btn btn-primary" id="playBtn">â–¶ï¸ ì½ê¸° ì‹œì‘</button>
                <button class="btn btn-secondary" id="pauseBtn" disabled>â¸ï¸ ì¼ì‹œì •ì§€</button>
                <button class="btn btn-danger" id="stopBtn" disabled>â¹ï¸ ì¤‘ì§€</button>
            </div>

            <div class="status stopped" id="status">
                ì¤€ë¹„ë¨
            </div>
            
            <!-- ìœ ìš©í•œ ê¸°ëŠ¥ë“¤ -->
            <div style="margin: 30px 0; padding: 25px; background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%); border-radius: 20px; border: 2px solid #f0f0f0;">
                <h3 style="margin-bottom: 20px; color: #333;">âœ¨ ìœ ìš©í•œ ê¸°ëŠ¥</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <button class="btn" onclick="saveBookmark()" style="background: #ffc107; color: #333; padding: 15px;">
                        â­ ì¦ê²¨ì°¾ê¸° ì €ì¥
                    </button>
                    <button class="btn" onclick="loadBookmarks()" style="background: #17a2b8; color: white; padding: 15px;">
                        ğŸ“š ì¦ê²¨ì°¾ê¸° ë³´ê¸°
                    </button>
                    <button class="btn" onclick="saveText()" style="background: #28a745; color: white; padding: 15px;">
                        ğŸ’¾ í…ìŠ¤íŠ¸ ì €ì¥
                    </button>
                    <button class="btn" onclick="loadSavedTexts()" style="background: #6f42c1; color: white; padding: 15px;">
                        ğŸ“– ì €ì¥ëœ í…ìŠ¤íŠ¸
                    </button>
                    <button class="btn" onclick="showReadingHistory()" style="background: #fd7e14; color: white; padding: 15px;">
                        ğŸ“Š ì½ê¸° ê¸°ë¡
                    </button>
                    <button class="btn" onclick="showConversationGuide()" style="background: #e83e8c; color: white; padding: 15px;">
                        ğŸ’¬ ëŒ€í™” ê°€ì´ë“œ
                    </button>
                </div>
            </div>
            
            <!-- ì½ê¸° í†µê³„ -->
            <div style="margin: 20px 0; padding: 20px; background: white; border-radius: 15px; border: 2px solid #ff9a9e;">
                <h4 style="margin-bottom: 15px; color: #333;">ğŸ“ˆ ì½ê¸° í†µê³„</h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                    <div style="text-align: center; padding: 15px; background: #f8f9fa; border-radius: 10px;">
                        <div style="font-size: 2em; font-weight: bold; color: #ff9a9e;" id="totalReadings">0</div>
                        <div style="color: #666; margin-top: 5px;">ì´ ì½ê¸° íšŸìˆ˜</div>
                    </div>
                    <div style="text-align: center; padding: 15px; background: #f8f9fa; border-radius: 10px;">
                        <div style="font-size: 2em; font-weight: bold; color: #ff9a9e;" id="totalReadingTime">0ë¶„</div>
                        <div style="color: #666; margin-top: 5px;">ì´ ì½ì€ ì‹œê°„</div>
                    </div>
                    <div style="text-align: center; padding: 15px; background: #f8f9fa; border-radius: 10px;">
                        <div style="font-size: 2em; font-weight: bold; color: #ff9a9e;" id="totalCharacters">0</div>
                        <div style="color: #666; margin-top: 5px;">ì´ ì½ì€ ê¸€ì</div>
                    </div>
                </div>
            </div>


            <!-- ì‹¤ì œ ì•„ë™ì‹¬ë¦¬ ì±… ì¶”ì²œ ì„¹ì…˜ -->
            <div class="example-texts" style="margin-top: 50px; padding-top: 40px; border-top: 4px solid #ff9a9e;">
                <h3>ğŸ“š ì¶”ì²œ ì•„ë™ì‹¬ë¦¬ ë„ì„œ (ì˜¨ë¼ì¸ ì„œì  ë² ìŠ¤íŠ¸ì…€ëŸ¬)</h3>
                <p style="color: #666; margin-bottom: 25px; font-size: 1.1em; line-height: 1.6;">
                    ì‹¤ì œ ì˜¨ë¼ì¸ ì„œì ì—ì„œ íŒë§¤í•˜ëŠ” ì¸ê¸° ì•„ë™ì‹¬ë¦¬ ê´€ë ¨ ë„ì„œì…ë‹ˆë‹¤. í´ë¦­í•˜ë©´ í•´ë‹¹ ì±…ì˜ êµ¬ë§¤ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.
                </p>
                <div class="example-grid">
                    <a href="https://search.kyobobook.co.kr/web/search?vPstrKeyWord=%EC%97%84%EB%A7%88%EC%9D%98%20%EB%A7%90%20%EA%B3%B5%EB%B6%80" target="_blank" class="example-card" style="text-decoration: none; display: block;">
                        <div class="example-card-title">ì—„ë§ˆì˜ ë§ ê³µë¶€</div>
                        <div class="example-card-desc">ê¹€ìˆ˜í˜„ ì§€ìŒ<br>ì•„ì´ì˜ ë§ˆìŒì„ ì½ëŠ” ë¶€ëª¨ì˜ ë§í•˜ê¸°</div>
                        <div style="margin-top: 10px; color: #ff9a9e; font-size: 0.9em; font-weight: 600;">êµë³´ë¬¸ê³  ê²€ìƒ‰ â†’</div>
                    </a>
                    <a href="https://search.kyobobook.co.kr/web/search?vPstrKeyWord=%EC%98%A4%EC%9D%80%EC%98%81%20%EC%95%84%EC%9D%B4%EC%9D%98%20%EB%A7%88%EC%9D%8C" target="_blank" class="example-card" style="text-decoration: none; display: block;">
                        <div class="example-card-title">ì˜¤ì€ì˜ì˜ ì•„ì´ ë§ˆìŒ ì‚¬ì „</div>
                        <div class="example-card-desc">ì˜¤ì€ì˜ ì§€ìŒ<br>ì•„ì´ì˜ ê°ì •ì½”ì¹­ê³¼ ì†Œí†µë²•</div>
                        <div style="margin-top: 10px; color: #ff9a9e; font-size: 0.9em; font-weight: 600;">êµë³´ë¬¸ê³  ê²€ìƒ‰ â†’</div>
                    </a>
                    <a href="https://search.kyobobook.co.kr/web/search?vPstrKeyWord=%EC%95%84%EC%9D%B4%EC%9D%98%20%EA%B0%90%EC%A0%95%EC%BD%94%EC%B9%AD" target="_blank" class="example-card" style="text-decoration: none; display: block;">
                        <div class="example-card-title">ì•„ì´ì˜ ê°ì •ì½”ì¹­</div>
                        <div class="example-card-desc">ì¡´ ê°€íŠ¸ë§¨ ì§€ìŒ<br>ê°ì •ì§€ëŠ¥ì„ í‚¤ìš°ëŠ” ë¶€ëª¨ì˜ ì—­í• </div>
                        <div style="margin-top: 10px; color: #ff9a9e; font-size: 0.9em; font-weight: 600;">êµë³´ë¬¸ê³  ê²€ìƒ‰ â†’</div>
                    </a>
                    <a href="https://search.kyobobook.co.kr/web/search?vPstrKeyWord=%EB%8B%A4%EB%8B%88%EC%97%98%20%EC%8B%9C%EA%B1%B8%20%EC%95%84%EC%9D%B4%EC%9D%98%20%EB%87%8C" target="_blank" class="example-card" style="text-decoration: none; display: block;">
                        <div class="example-card-title">ì•„ì´ì˜ ë‡Œë¥¼ í‚¤ìš°ëŠ” ë¶€ëª¨</div>
                        <div class="example-card-desc">ë‹¤ë‹ˆì—˜ ì‹œê±¸ ì§€ìŒ<br>ë‡Œê³¼í•™ ê¸°ë°˜ ì–‘ìœ¡ë²•</div>
                        <div style="margin-top: 10px; color: #ff9a9e; font-size: 0.9em; font-weight: 600;">êµë³´ë¬¸ê³  ê²€ìƒ‰ â†’</div>
                    </a>
                    <a href="https://search.kyobobook.co.kr/web/search?vPstrKeyWord=%EC%95%84%EC%9D%B4%EC%9D%98%20%EC%9E%90%EC%A1%B4%EA%B0%90" target="_blank" class="example-card" style="text-decoration: none; display: block;">
                        <div class="example-card-title">ì•„ì´ì˜ ìì¡´ê°ì„ í‚¤ìš°ëŠ” ë¶€ëª¨</div>
                        <div class="example-card-desc">ê¹€ì˜í›ˆ ì§€ìŒ<br>ê±´ê°•í•œ ìì¡´ê° í˜•ì„± ê°€ì´ë“œ</div>
                        <div style="margin-top: 10px; color: #ff9a9e; font-size: 0.9em; font-weight: 600;">êµë³´ë¬¸ê³  ê²€ìƒ‰ â†’</div>
                    </a>
                    <a href="https://search.kyobobook.co.kr/web/search?vPstrKeyWord=%EC%95%84%EC%9D%B4%EC%9D%98%20%EB%A7%88%EC%9D%8C%EC%9D%84%20%EC%9D%BD%EB%8A%94%20%EB%B2%95" target="_blank" class="example-card" style="text-decoration: none; display: block;">
                        <div class="example-card-title">ì•„ì´ì˜ ë§ˆìŒì„ ì½ëŠ” ë²•</div>
                        <div class="example-card-desc">ì´ì†Œí¬ ì§€ìŒ<br>ì•„ì´ì˜ ê°ì •ê³¼ í–‰ë™ ì´í•´í•˜ê¸°</div>
                        <div style="margin-top: 10px; color: #ff9a9e; font-size: 0.9em; font-weight: 600;">êµë³´ë¬¸ê³  ê²€ìƒ‰ â†’</div>
                    </a>
                    <a href="https://search.kyobobook.co.kr/web/search?vPstrKeyWord=%EB%B6%80%EB%AA%A8%EC%99%80%20%EC%95%84%EC%9D%B4%EC%9D%98%20%EC%95%A0%EC%B0%A9" target="_blank" class="example-card" style="text-decoration: none; display: block;">
                        <div class="example-card-title">ë¶€ëª¨ì™€ ì•„ì´ì˜ ì• ì°© ê´€ê³„</div>
                        <div class="example-card-desc">ì¡´ ë³¼ë¹„ ì§€ìŒ<br>ê±´ê°•í•œ ì •ì„œì  ìœ ëŒ€ í˜•ì„±</div>
                        <div style="margin-top: 10px; color: #ff9a9e; font-size: 0.9em; font-weight: 600;">êµë³´ë¬¸ê³  ê²€ìƒ‰ â†’</div>
                    </a>
                    <a href="https://search.kyobobook.co.kr/web/search?vPstrKeyWord=%EC%95%84%EB%8F%99%20%EB%B0%9C%EB%8B%AC%EA%B3%BC%20%EA%B5%90%EC%9C%A1%20%EC%8B%AC%EB%A6%AC%ED%95%99" target="_blank" class="example-card" style="text-decoration: none; display: block;">
                        <div class="example-card-title">ì•„ë™ ë°œë‹¬ê³¼ êµìœ¡ ì‹¬ë¦¬í•™</div>
                        <div class="example-card-desc">ë‹¤ì–‘í•œ ì €ì<br>ì¸ì§€, ì •ì„œ, ì‚¬íšŒì  ë°œë‹¬ ë¶„ì„</div>
                        <div style="margin-top: 10px; color: #ff9a9e; font-size: 0.9em; font-weight: 600;">êµë³´ë¬¸ê³  ê²€ìƒ‰ â†’</div>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        const textInput = document.getElementById('textInput');
        const textInputChild = document.getElementById('textInputChild');
        const voiceSelect = document.getElementById('voiceSelect');
        const speedRange = document.getElementById('speedRange');
        const speedDisplay = document.getElementById('speedDisplay');
        const playBtn = document.getElementById('playBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const stopBtn = document.getElementById('stopBtn');
        const status = document.getElementById('status');
        const charCount = document.getElementById('charCount');
        const charCountChild = document.getElementById('charCountChild');
        const progressContainer = document.getElementById('progressContainer');
        const progressFill = document.getElementById('progressFill');
        let currentTab = 'parent';

        let synth = window.speechSynthesis;
        let utterance = null;
        let voices = [];
        let startTime = null;
        let totalDuration = 0;

        // ì•„ë™ì‹¬ë¦¬ ì£¼ì œë³„ ì½˜í…ì¸ 
        const books = {
            parent: {
                emotion: `ê°ì • ì¸ì‹í•˜ê¸° - ë¶€ëª¨ì™€ ì•„ì´ê°€ í•¨ê»˜

ì•„ì´ì˜ ê°ì •ì„ ì´í•´í•˜ê³  í‘œí˜„í•˜ë„ë¡ ë•ëŠ” ê²ƒì€ ì•„ë™ì‹¬ë¦¬ì—ì„œ ë§¤ìš° ì¤‘ìš”í•´ìš”.

ì•„ì´ê°€ í™”ê°€ ë‚œ ê²ƒ ê°™ì„ ë•Œ:
"ì§€ê¸ˆ ì–´ë–¤ ê¸°ë¶„ì´ì•¼? í™”ê°€ ë‚¬êµ¬ë‚˜. ì™œ í™”ê°€ ë‚¬ëŠ”ì§€ ì´ì•¼ê¸°í•´ë³¼ê¹Œ?"
ì´ë ‡ê²Œ ë¬¼ì–´ë³´ë©´ ì•„ì´ëŠ” ìì‹ ì˜ ê°ì •ì„ ì¸ì‹í•˜ê³  í‘œí˜„í•  ìˆ˜ ìˆì–´ìš”.

ì•„ì´ê°€ ìŠ¬í¼ ë³´ì¼ ë•Œ:
"ìŠ¬í¼ ë³´ì´ëŠ”ë°, ë¬´ìŠ¨ ì¼ì´ ìˆì—ˆì–´? ì—„ë§ˆ(ì•„ë¹ )ê°€ ë“¤ì–´ì¤„ê²Œ."
ì´ë ‡ê²Œ ë§í•˜ë©´ ì•„ì´ëŠ” ì•ˆì‹¬í•˜ê³  ê°ì •ì„ í‘œí˜„í•  ìˆ˜ ìˆì–´ìš”.

ê°ì •ì€ ë‚˜ìœ ê²ƒì´ ì•„ë‹ˆì—ìš”.
ê¸°ì¨, ìŠ¬í””, í™”ë‚¨, ë‘ë ¤ì›€, ë†€ëŒ - ëª¨ë“  ê°ì •ì€ ìì—°ìŠ¤ëŸ¬ìš´ ê²ƒì´ì—ìš”.
ì¤‘ìš”í•œ ê²ƒì€ ê°ì •ì„ ì¸ì‹í•˜ê³  ì ì ˆí•˜ê²Œ í‘œí˜„í•˜ëŠ” ë°©ë²•ì„ ë°°ìš°ëŠ” ê²ƒì´ì—ìš”.

ë¶€ëª¨ë‹˜ê³¼ ì•„ì´ê°€ í•¨ê»˜ ì´ì•¼ê¸°í•´ë³¼ ìˆ˜ ìˆì–´ìš”:
"ì˜¤ëŠ˜ í•˜ë£¨ ì–´ë–¤ ê°ì •ì„ ëŠê¼ˆì–´ìš”?"
"í™”ê°€ ë‚  ë•ŒëŠ” ì–´ë–»ê²Œ í•˜ë©´ ì¢‹ì„ê¹Œìš”?"
"ê°ì •ì„ í‘œí˜„í•˜ëŠ” ê²ƒì€ ì™œ ì¤‘ìš”í• ê¹Œìš”?"
"ìš°ë¦¬ëŠ” ì–´ë–¤ ë°©ë²•ìœ¼ë¡œ ê°ì •ì„ í‘œí˜„í•  ìˆ˜ ìˆì„ê¹Œìš”?"`,

                selfesteem: `ìì¡´ê° í‚¤ìš°ê¸° - ë¶€ëª¨ì™€ ì•„ì´ê°€ í•¨ê»˜

ê±´ê°•í•œ ìì¡´ê°ì€ ì•„ì´ê°€ í–‰ë³µí•˜ê²Œ ì‚´ì•„ê°€ëŠ” ë° ì •ë§ ì¤‘ìš”í•´ìš”.

ì¹­ì°¬ì€ êµ¬ì²´ì ìœ¼ë¡œ í•´ì£¼ì„¸ìš”:
"ì˜í–ˆì–´"ë³´ë‹¤ëŠ” "ì—´ì‹¬íˆ ë…¸ë ¥í•œ ëª¨ìŠµì´ ì •ë§ ë©‹ì¡Œì–´"
"ì¹œêµ¬ë¥¼ ë„ì™€ì¤€ ëª¨ìŠµì´ ì •ë§ ìë‘ìŠ¤ëŸ¬ì›Œ"
ì´ë ‡ê²Œ êµ¬ì²´ì ìœ¼ë¡œ ë§í•˜ë©´ ì•„ì´ëŠ” ë¬´ì—‡ì„ ì˜í–ˆëŠ”ì§€ ì•Œ ìˆ˜ ìˆì–´ìš”.

ì•„ì´ì˜ ë…¸ë ¥ì„ ì¸ì •í•´ì£¼ì„¸ìš”:
ê²°ê³¼ë³´ë‹¤ëŠ” ê³¼ì •ì„ ì¹­ì°¬í•´ì£¼ì„¸ìš”.
"ì‹œí—˜ ì ìˆ˜ê°€ ë†’ì•„ì„œ ì¢‹ì§€ë§Œ, ê·¸ë³´ë‹¤ ì—´ì‹¬íˆ ê³µë¶€í•œ ëª¨ìŠµì´ ë” ìë‘ìŠ¤ëŸ¬ì›Œ"
ì´ë ‡ê²Œ ë§í•˜ë©´ ì•„ì´ëŠ” ë…¸ë ¥ì˜ ê°€ì¹˜ë¥¼ ì•Œê²Œ ë˜ì–´ìš”.

ì•„ì´ì˜ ì„ íƒì„ ì¡´ì¤‘í•´ì£¼ì„¸ìš”:
"ì˜¤ëŠ˜ ë­ ì…ê³  ì‹¶ì–´?" "ì–´ë–¤ ì±…ì„ ì½ê³  ì‹¶ì–´?"
ì‘ì€ ì„ íƒê¶Œì„ ì£¼ë©´ ì•„ì´ëŠ” ìì‹ ì´ ì†Œì¤‘í•˜ë‹¤ê³  ëŠê»´ìš”.

ë¶€ëª¨ë‹˜ê³¼ ì•„ì´ê°€ í•¨ê»˜ ìƒê°í•´ë³¼ ìˆ˜ ìˆì–´ìš”:
"ë‚˜ëŠ” ì–´ë–¤ ì ì´ ì¢‹ì•„ìš”?"
"ë‚´ê°€ ì˜í•˜ëŠ” ê²ƒì€ ë¬´ì—‡ì¼ê¹Œìš”?"
"ìì¡´ê°ì´ ë†’ìœ¼ë©´ ì–´ë–¤ ì ì´ ì¢‹ì„ê¹Œìš”?"
"ìš°ë¦¬ëŠ” ì–´ë–»ê²Œ ìì¡´ê°ì„ í‚¤ìš¸ ìˆ˜ ìˆì„ê¹Œìš”?"`,

                social: `ì‚¬íšŒì„± ë°œë‹¬ - ë¶€ëª¨ì™€ ì•„ì´ê°€ í•¨ê»˜

ì¹œêµ¬ ê´€ê³„ì™€ í˜‘ë ¥ ëŠ¥ë ¥ì€ ì•„ì´ì˜ ì‚¬íšŒì„± ë°œë‹¬ì— ì¤‘ìš”í•´ìš”.

ì¹œêµ¬ì™€ í•¨ê»˜ ë†€ ë•Œ:
"ì¹œêµ¬ê°€ ì›í•˜ëŠ” ê²ƒë„ ë“¤ì–´ë´ì•¼ í•´. í•¨ê»˜ ë†€ë©´ ë” ì¬ë¯¸ìˆì–´"
ì´ë ‡ê²Œ ë§í•˜ë©´ ì•„ì´ëŠ” í˜‘ë ¥ì˜ ì¤‘ìš”ì„±ì„ ë°°ì›Œìš”.

ê°ˆë“±ì´ ìƒê²¼ì„ ë•Œ:
"ì™œ ì‹¸ì› ëŠ”ì§€ ì´ì•¼ê¸°í•´ë³¼ê¹Œ? ì–´ë–»ê²Œ í•´ê²°í•  ìˆ˜ ìˆì„ê¹Œ?"
í•¨ê»˜ í•´ê²° ë°©ë²•ì„ ì°¾ìœ¼ë©´ ì•„ì´ëŠ” ê°ˆë“± í•´ê²° ëŠ¥ë ¥ì„ ê¸°ë¥¼ ìˆ˜ ìˆì–´ìš”.

ê³µìœ í•˜ê¸°:
"ì¥ë‚œê°ì„ ì¹œêµ¬ì™€ í•¨ê»˜ ë‚˜ëˆ„ë©´ ë” ì¦ê±°ì›Œ"
"ìŒì‹ì„ ë‚˜ëˆ„ë©´ ë” ë§›ìˆì–´ ë³´ì—¬"
ì´ë ‡ê²Œ ë§í•˜ë©´ ì•„ì´ëŠ” ë‚˜ëˆ”ì˜ ì¦ê±°ì›€ì„ ë°°ì›Œìš”.

ë¶€ëª¨ë‹˜ê³¼ ì•„ì´ê°€ í•¨ê»˜ ì´ì•¼ê¸°í•´ë³¼ ìˆ˜ ìˆì–´ìš”:
"ì¹œêµ¬ì™€ í•¨ê»˜ í•  ë•Œ ì–´ë–¤ ì ì´ ì¢‹ì•„ìš”?"
"ì¹œêµ¬ê°€ ìŠ¬í¼í•˜ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œìš”?"
"í˜‘ë ¥í•œë‹¤ëŠ” ê²ƒì€ ë¬´ì—‡ì¼ê¹Œìš”?"
"ìš°ë¦¬ëŠ” ì–´ë–»ê²Œ ì¹œêµ¬ì™€ ì¢‹ì€ ê´€ê³„ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì„ê¹Œìš”?"`,

                regulation: `ìê¸° ì¡°ì ˆ ëŠ¥ë ¥ - ë¶€ëª¨ì™€ ì•„ì´ê°€ í•¨ê»˜

í™” ì¡°ì ˆê³¼ ì¶©ë™ í†µì œëŠ” ì•„ì´ì˜ ì •ì„œ ë°œë‹¬ì— ì¤‘ìš”í•´ìš”.

í™”ê°€ ë‚  ë•Œ:
"í™”ê°€ ë‚˜ëŠ” ê²ƒì€ ê´œì°®ì•„. í•˜ì§€ë§Œ ê¹Šê²Œ ìˆ¨ì„ ì‰¬ì–´ë³´ì"
"1, 2, 3... ì²œì²œíˆ ì„¸ì–´ë³´ì"
ì´ë ‡ê²Œ ë§í•˜ë©´ ì•„ì´ëŠ” í™”ë¥¼ ì¡°ì ˆí•˜ëŠ” ë°©ë²•ì„ ë°°ì›Œìš”.

ê¸°ë‹¤ë ¤ì•¼ í•  ë•Œ:
"ì¡°ê¸ˆë§Œ ê¸°ë‹¤ë¦¬ë©´ ë˜ë‹ˆê¹Œ, ì‹¬í˜¸í¡ì„ í•´ë³´ì"
"ê¸°ë‹¤ë¦¬ëŠ” ë™ì•ˆ ë‹¤ë¥¸ ê²ƒì„ ìƒê°í•´ë³¼ê¹Œ?"
ì´ë ‡ê²Œ ë§í•˜ë©´ ì•„ì´ëŠ” ì¸ë‚´ì‹¬ì„ ê¸°ë¥¼ ìˆ˜ ìˆì–´ìš”.

ì¶©ë™ ì¡°ì ˆ:
"ì§€ê¸ˆ í•˜ê³  ì‹¶ì§€ë§Œ, ì ê¹ë§Œ ìƒê°í•´ë³´ì"
"ì´ê²ƒì„ í•˜ë©´ ì–´ë–¤ ì¼ì´ ì¼ì–´ë‚ ê¹Œ?"
ì´ë ‡ê²Œ ë¬¼ì–´ë³´ë©´ ì•„ì´ëŠ” ìƒê°í•˜ê³  í–‰ë™í•˜ëŠ” ìŠµê´€ì„ ê¸°ë¥¼ ìˆ˜ ìˆì–´ìš”.

ë¶€ëª¨ë‹˜ê³¼ ì•„ì´ê°€ í•¨ê»˜ ìƒê°í•´ë³¼ ìˆ˜ ìˆì–´ìš”:
"í™”ê°€ ë‚  ë•ŒëŠ” ì–´ë–»ê²Œ í•˜ë©´ ì¢‹ì„ê¹Œìš”?"
"ê¸°ë‹¤ë¦¬ëŠ” ê²ƒì´ ì–´ë ¤ìš¸ ë•ŒëŠ” ì–´ë–»ê²Œ í•˜ë©´ ì¢‹ì„ê¹Œìš”?"
"ìê¸° ì¡°ì ˆ ëŠ¥ë ¥ì´ ìˆìœ¼ë©´ ì–´ë–¤ ì ì´ ì¢‹ì„ê¹Œìš”?"
"ìš°ë¦¬ëŠ” ì–´ë–¤ ë°©ë²•ìœ¼ë¡œ ë§ˆìŒì„ ì¡°ì ˆí•  ìˆ˜ ìˆì„ê¹Œìš”?"`,

                attachment: `ì• ì°©ê³¼ ì•ˆì •ê° - ë¶€ëª¨ì™€ ì•„ì´ê°€ í•¨ê»˜

ê±´ê°•í•œ ë¶€ëª¨-ìë…€ ê´€ê³„ëŠ” ì•„ì´ì˜ ì •ì„œì  ì•ˆì •ê°ì„ ë§Œë“¤ì–´ìš”.

ì•ˆì „í•œ ê¸°ë°˜:
"ì—„ë§ˆ(ì•„ë¹ )ëŠ” ë„¤ê°€ í•­ìƒ ì†Œì¤‘í•´"
"ë¬´ìŠ¨ ì¼ì´ ìˆì–´ë„ ë„¤ í¸ì´ì•¼"
ì´ë ‡ê²Œ ë§í•˜ë©´ ì•„ì´ëŠ” ì•ˆì •ê°ì„ ëŠê»´ìš”.

ì¼ê´€ëœ ë°˜ì‘:
ì•„ì´ì˜ í–‰ë™ì— ì¼ê´€ë˜ê²Œ ë°˜ì‘í•´ì£¼ì„¸ìš”.
ì¢‹ì€ í–‰ë™ì—ëŠ” ì¹­ì°¬í•˜ê³ , ë‚˜ìœ í–‰ë™ì—ëŠ” ëª…í™•í•˜ê²Œ ì„¤ëª…í•´ì£¼ì„¸ìš”.

í’ˆì— ì•ˆì•„ì£¼ê¸°:
í¬ì˜¹ì€ ì•„ì´ì—ê²Œ ì•ˆì „ê°ì„ ì¤ë‹ˆë‹¤.
"ì‚¬ë‘í•´"ë¼ëŠ” ë§ê³¼ í•¨ê»˜ í¬ì˜¹í•˜ë©´ ì•„ì´ëŠ” ìì‹ ì´ ì†Œì¤‘í•˜ë‹¤ê³  ëŠê»´ìš”.

ë¶€ëª¨ë‹˜ê³¼ ì•„ì´ê°€ í•¨ê»˜ ì´ì•¼ê¸°í•´ë³¼ ìˆ˜ ìˆì–´ìš”:
"ì—„ë§ˆ(ì•„ë¹ )ì™€ í•¨ê»˜ ìˆì„ ë•Œ ì–´ë–¤ ê¸°ë¶„ì´ ë“œë‚˜ìš”?"
"ì•ˆì „í•˜ë‹¤ê³  ëŠë‚„ ë•ŒëŠ” ì–¸ì œì¸ê°€ìš”?"
"ì• ì°©ì´ ì™œ ì¤‘ìš”í• ê¹Œìš”?"
"ìš°ë¦¬ëŠ” ì–´ë–»ê²Œ ë” ê°€ê¹Œì›Œì§ˆ ìˆ˜ ìˆì„ê¹Œìš”?"`,

                empathy: `ê³µê° ëŠ¥ë ¥ - ë¶€ëª¨ì™€ ì•„ì´ê°€ í•¨ê»˜

ë‹¤ë¥¸ ì‚¬ëŒì˜ ê°ì •ì„ ì´í•´í•˜ëŠ” ê³µê° ëŠ¥ë ¥ì€ ì‚¬íšŒì„± ë°œë‹¬ì— ì¤‘ìš”í•´ìš”.

ë‹¤ë¥¸ ì‚¬ëŒì˜ ê°ì • ì´í•´í•˜ê¸°:
"ì¹œêµ¬ê°€ ìŠ¬í¼ ë³´ì´ëŠ”ë°, ì™œ ìŠ¬í¼í• ê¹Œ?"
"ì—„ë§ˆê°€ í”¼ê³¤í•´ ë³´ì´ëŠ”ë°, ì–´ë–»ê²Œ ë„ì™€ì¤„ ìˆ˜ ìˆì„ê¹Œ?"
ì´ë ‡ê²Œ ë¬¼ì–´ë³´ë©´ ì•„ì´ëŠ” ë‹¤ë¥¸ ì‚¬ëŒì˜ ê°ì •ì„ ìƒê°í•´ë³¼ ìˆ˜ ìˆì–´ìš”.

ê³µê° í‘œí˜„í•˜ê¸°:
"ê·¸ë¬êµ¬ë‚˜, í˜ë“¤ì—ˆê² ë‹¤"
"ì´í•´í•´, ê·¸ëŸ° ê¸°ë¶„ì´ ë“¤ ìˆ˜ ìˆì–´"
ì´ë ‡ê²Œ ë§í•˜ë©´ ì•„ì´ëŠ” ê³µê°í•˜ëŠ” ë°©ë²•ì„ ë°°ì›Œìš”.

ë°°ë ¤í•˜ê¸°:
"ì¹œêµ¬ê°€ ì•„í”„ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œ?"
"í• ë¨¸ë‹ˆê°€ í˜ë“¤ì–´ ë³´ì´ë©´ ì–´ë–»ê²Œ ë„ì™€ì¤„ ìˆ˜ ìˆì„ê¹Œ?"
ì´ë ‡ê²Œ ë¬¼ì–´ë³´ë©´ ì•„ì´ëŠ” ë°°ë ¤í•˜ëŠ” ë§ˆìŒì„ ê¸°ë¥¼ ìˆ˜ ìˆì–´ìš”.

ë¶€ëª¨ë‹˜ê³¼ ì•„ì´ê°€ í•¨ê»˜ ìƒê°í•´ë³¼ ìˆ˜ ìˆì–´ìš”:
"ë‹¤ë¥¸ ì‚¬ëŒì˜ ê°ì •ì„ ì´í•´í•œë‹¤ëŠ” ê²ƒì€ ë¬´ì—‡ì¼ê¹Œìš”?"
"ê³µê° ëŠ¥ë ¥ì´ ìˆìœ¼ë©´ ì–´ë–¤ ì ì´ ì¢‹ì„ê¹Œìš”?"
"ìš°ë¦¬ëŠ” ì–´ë–»ê²Œ ë‹¤ë¥¸ ì‚¬ëŒì„ ë°°ë ¤í•  ìˆ˜ ìˆì„ê¹Œìš”?"
"ê³µê°í•˜ëŠ” ë§ˆìŒì„ ì–´ë–»ê²Œ í‚¤ìš¸ ìˆ˜ ìˆì„ê¹Œìš”?"`
            },
            child: {
                feelings: `ë‚´ ê°ì • ì•Œì•„ë³´ê¸°

ë‚˜ëŠ” ì–´ë–¤ ê°ì •ì„ ëŠë‚„ ìˆ˜ ìˆì„ê¹Œìš”?

ê¸°ì¨ ğŸ˜Š
ë†€ê³  ì‹¶ì„ ë•Œ, ì¢‹ì€ ì¼ì´ ìƒê²¼ì„ ë•Œ ê¸°ìœ ê¸°ë¶„ì´ ë“¤ì–´ìš”.
"ê¸°ì˜ë‹¤!"ë¼ê³  ë§í•  ìˆ˜ ìˆì–´ìš”.

ìŠ¬í”” ğŸ˜¢
ì¹œêµ¬ì™€ ì‹¸ì› ì„ ë•Œ, ì•„í”ˆ ì¼ì´ ìƒê²¼ì„ ë•Œ ìŠ¬í”ˆ ê¸°ë¶„ì´ ë“¤ì–´ìš”.
"ìŠ¬í”„ë‹¤"ë¼ê³  ë§í•  ìˆ˜ ìˆì–´ìš”.

í™”ë‚¨ ğŸ˜ 
í™”ê°€ ë‚  ë•Œë„ ìˆì–´ìš”.
"í™”ê°€ ë‚œë‹¤!"ë¼ê³  ë§í•  ìˆ˜ ìˆì–´ìš”.
í™”ê°€ ë‚  ë•ŒëŠ” ê¹Šê²Œ ìˆ¨ì„ ì‰¬ì–´ë³´ì„¸ìš”.

ë‘ë ¤ì›€ ğŸ˜°
ë¬´ì„œìš´ ì¼ì´ ìˆì„ ë•Œ ë‘ë ¤ìš´ ê¸°ë¶„ì´ ë“¤ì–´ìš”.
"ë¬´ì„­ë‹¤"ë¼ê³  ë§í•  ìˆ˜ ìˆì–´ìš”.
ì—„ë§ˆë‚˜ ì•„ë¹ ì—ê²Œ ì´ì•¼ê¸°í•˜ë©´ ì•ˆì‹¬ì´ ë˜ì–´ìš”.

ë†€ëŒ ğŸ˜²
ì˜ˆìƒì¹˜ ëª»í•œ ì¼ì´ ìƒê²¼ì„ ë•Œ ë†€ë€ ê¸°ë¶„ì´ ë“¤ì–´ìš”.
"ë†€ëë‹¤!"ë¼ê³  ë§í•  ìˆ˜ ìˆì–´ìš”.

ëª¨ë“  ê°ì •ì€ ê´œì°®ì•„ìš”.
ê°ì •ì„ ëŠë¼ëŠ” ê²ƒì€ ìì—°ìŠ¤ëŸ¬ìš´ ì¼ì´ì—ìš”.
ì¤‘ìš”í•œ ê²ƒì€ ê°ì •ì„ í‘œí˜„í•˜ëŠ” ê²ƒì´ì—ìš”.

ë‚˜ëŠ” ì–´ë–¤ ê°ì •ì„ ëŠë¼ê³  ìˆë‚˜ìš”?
ì§€ê¸ˆ ì–´ë–¤ ê¸°ë¶„ì¸ì§€ ìƒê°í•´ë³¼ ìˆ˜ ìˆì–´ìš”.`,

                friends: `ì¹œêµ¬ì™€ í•¨ê»˜í•˜ê¸°

ì¹œêµ¬ì™€ í•¨ê»˜í•˜ëŠ” ê²ƒì€ ì •ë§ ì¦ê±°ì›Œìš”!

ì¹œêµ¬ë¥¼ ë°°ë ¤í•˜ê¸°:
ì¹œêµ¬ê°€ ìŠ¬í¼ ë³´ì´ë©´ "ê´œì°®ì•„?"ë¼ê³  ë¬¼ì–´ë³¼ ìˆ˜ ìˆì–´ìš”.
ì¹œêµ¬ê°€ ê¸°ë»í•˜ë©´ í•¨ê»˜ ê¸°ë»í•  ìˆ˜ ìˆì–´ìš”.

í•¨ê»˜ ë†€ê¸°:
ì¹œêµ¬ì™€ í•¨ê»˜ ë†€ë©´ ë” ì¬ë¯¸ìˆì–´ìš”.
"í•¨ê»˜ ë†€ì!"ë¼ê³  ë§í•  ìˆ˜ ìˆì–´ìš”.

ë‚˜ëˆ„ê¸°:
ì¥ë‚œê°ì„ ì¹œêµ¬ì™€ í•¨ê»˜ ë‚˜ëˆ„ë©´ ë” ì¦ê±°ì›Œìš”.
"í•¨ê»˜ ì“°ì!"ë¼ê³  ë§í•  ìˆ˜ ìˆì–´ìš”.

ë¯¸ì•ˆí•´í•˜ê¸°:
ì¹œêµ¬ì™€ ì‹¸ì› ì„ ë•ŒëŠ” "ë¯¸ì•ˆí•´"ë¼ê³  ë§í•  ìˆ˜ ìˆì–´ìš”.
ë¯¸ì•ˆí•˜ë‹¤ê³  ë§í•˜ë©´ ì¹œêµ¬ë„ ë‚˜ë¥¼ ìš©ì„œí•´ì¤„ ê±°ì˜ˆìš”.

ì¹œêµ¬ëŠ” ì†Œì¤‘í•´ìš”.
ì¹œêµ¬ì™€ í•¨ê»˜ ìˆìœ¼ë©´ ì™¸ë¡­ì§€ ì•Šì•„ìš”.
í•¨ê»˜ ìˆìœ¼ë©´ ëª¨ë“  ì¼ì´ ë” ì¦ê±°ì›Œìš”.`,

                brave: `ìš©ê¸° ë‚´ê¸°

ìš©ê¸°ëŠ” ë¬´ì„œìš´ ì¼ì´ ì—†ì–´ì„œê°€ ì•„ë‹ˆë¼,
ë¬´ì„œì›Œë„ í•´ë‚´ëŠ” ê²ƒì´ì—ìš”!

ìƒˆë¡œìš´ ê²ƒì„ ì‹œë„í•˜ê¸°:
ì²˜ìŒ í•´ë³´ëŠ” ê²ƒë„ ìš©ê¸°ë¥¼ ë‚´ë©´ í•  ìˆ˜ ìˆì–´ìš”.
"í•œë²ˆ í•´ë³¼ê²Œ!"ë¼ê³  ë§í•  ìˆ˜ ìˆì–´ìš”.

ë„ì›€ ìš”ì²­í•˜ê¸°:
ë„ì›€ì´ í•„ìš”í•  ë•ŒëŠ” ìš©ê¸°ë¥¼ ë‚´ì„œ ë§í•  ìˆ˜ ìˆì–´ìš”.
"ë„ì™€ì£¼ì„¸ìš”"ë¼ê³  ë§í•  ìˆ˜ ìˆì–´ìš”.

ì‹¤ìˆ˜í•´ë„ ê´œì°®ì•„ìš”:
ì‹¤ìˆ˜í•´ë„ ê´œì°®ì•„ìš”.
ë‹¤ì‹œ ì‹œë„í•˜ë©´ ë˜ë‹ˆê¹Œìš”.
"ë‹¤ì‹œ í•´ë³¼ê²Œ!"ë¼ê³  ë§í•  ìˆ˜ ìˆì–´ìš”.

ì‘ì€ ìš©ê¸°ë¶€í„°:
ì‘ì€ ìš©ê¸°ë¶€í„° ì‹œì‘í•´ë³´ì„¸ìš”.
"ì•ˆë…•í•˜ì„¸ìš”"ë¼ê³  ì¸ì‚¬í•˜ëŠ” ê²ƒë„ ìš©ê¸°ì˜ˆìš”.

ë‚˜ëŠ” ìš©ê¸° ìˆëŠ” ì‚¬ëŒì´ ë  ìˆ˜ ìˆì–´ìš”.
ìš©ê¸°ë¥¼ ë‚´ë©´ í•  ìˆ˜ ìˆëŠ” ì¼ì´ ë§ì•„ì ¸ìš”.`,

                kind: `ì¹œì ˆí•˜ê²Œ ëŒ€í•˜ê¸°

ì¹œì ˆí•˜ê²Œ ëŒ€í•˜ëŠ” ê²ƒì€ ì •ë§ ì¢‹ì€ ì¼ì´ì—ìš”!

ì¹œì ˆí•œ ë§:
"ê³ ë§ˆì›Œ" "ë¯¸ì•ˆí•´" "ê´œì°®ì•„"
ì´ëŸ° ë§ë“¤ì€ ì¹œì ˆí•œ ë§ì´ì—ìš”.

ë„ì™€ì£¼ê¸°:
ì¹œêµ¬ê°€ ë„ì›€ì´ í•„ìš”í•  ë•Œ ë„ì™€ì¤„ ìˆ˜ ìˆì–´ìš”.
"ë„ì™€ì¤„ê²Œ!"ë¼ê³  ë§í•  ìˆ˜ ìˆì–´ìš”.

ë°°ë ¤í•˜ê¸°:
ë‹¤ë¥¸ ì‚¬ëŒì„ ìƒê°í•˜ëŠ” ê²ƒë„ ì¹œì ˆí•´ìš”.
"ê´œì°®ì•„?"ë¼ê³  ë¬¼ì–´ë³¼ ìˆ˜ ìˆì–´ìš”.

ì‘ì€ ì¹œì ˆë„ í° ì˜ë¯¸:
ì‘ì€ ì¹œì ˆë„ í° ì˜ë¯¸ê°€ ìˆì–´ìš”.
ë¯¸ì†Œ ì§“ëŠ” ê²ƒë„ ì¹œì ˆí•´ìš”.

ì¹œì ˆí•˜ê²Œ ëŒ€í•˜ë©´ ë‚˜ë„ ê¸°ë¶„ì´ ì¢‹ì•„ì ¸ìš”.
ì„¸ìƒì€ ì¹œì ˆí•œ ì‚¬ëŒë“¤ë¡œ ë” ì•„ë¦„ë‹¤ì›Œì ¸ìš”.`,

                calm: `ë§ˆìŒ ì§„ì •ì‹œí‚¤ê¸°

í™”ê°€ ë‚  ë•Œ, ë§ˆìŒì„ ì§„ì •ì‹œí‚¤ëŠ” ë°©ë²•ì„ ì•Œì•„ë³¼ê¹Œìš”?

ê¹Šê²Œ ìˆ¨ ì‰¬ê¸°:
í™”ê°€ ë‚  ë•ŒëŠ” ê¹Šê²Œ ìˆ¨ì„ ì‰¬ì–´ë³´ì„¸ìš”.
"í•˜ë‚˜, ë‘˜, ì…‹..." ì²œì²œíˆ ì„¸ì–´ë³´ì„¸ìš”.

ì‹¬í˜¸í¡í•˜ê¸°:
ì½”ë¡œ ìˆ¨ì„ ë“¤ì´ì‰¬ê³ , ì…ìœ¼ë¡œ ë‚´ì‰¬ì–´ë³´ì„¸ìš”.
ëª‡ ë²ˆ í•˜ë©´ ë§ˆìŒì´ ì¡°ê¸ˆ í¸í•´ì ¸ìš”.

ë‹¤ë¥¸ ìƒê°í•˜ê¸°:
í™”ê°€ ë‚  ë•ŒëŠ” ì¢‹ì€ ì¼ì„ ìƒê°í•´ë³¼ ìˆ˜ ìˆì–´ìš”.
"ì˜¤ëŠ˜ ì¢‹ì•˜ë˜ ì¼ì€ ë­ì˜€ì„ê¹Œ?"

ì—„ë§ˆ ì•„ë¹ ì—ê²Œ ì´ì•¼ê¸°í•˜ê¸°:
í™”ê°€ ë‚  ë•ŒëŠ” ì—„ë§ˆë‚˜ ì•„ë¹ ì—ê²Œ ì´ì•¼ê¸°í•  ìˆ˜ ìˆì–´ìš”.
"ì§€ê¸ˆ í™”ê°€ ë‚˜ìš”"ë¼ê³  ë§í•  ìˆ˜ ìˆì–´ìš”.

ë§ˆìŒì„ ì§„ì •ì‹œí‚¤ë©´ ë” ì¢‹ì€ ìƒê°ì„ í•  ìˆ˜ ìˆì–´ìš”.
í™”ê°€ ë‚˜ëŠ” ê²ƒë„ ê´œì°®ì§€ë§Œ, ë§ˆìŒì„ ì¡°ì ˆí•˜ëŠ” ë°©ë²•ì„ ì•Œë©´ ì¢‹ì•„ìš”.`,

                special: `ë‚˜ë§Œì˜ íŠ¹ë³„í•¨

ë‚˜ëŠ” íŠ¹ë³„í•´ìš”!

ëª¨ë“  ì‚¬ëŒì€ ë‹¤ë¥´ì§€ë§Œ ëª¨ë‘ ì†Œì¤‘í•´ìš”:
ë‚˜ëŠ” ë‚˜ë§Œì˜ íŠ¹ë³„í•¨ì´ ìˆì–´ìš”.
ì¹œêµ¬ì™€ ë‚˜ëŠ” ë‹¤ë¥¼ ìˆ˜ ìˆì–´ìš”.
ë‹¤ë¥¸ ê²ƒì€ ë‚˜ìœ ê²ƒì´ ì•„ë‹ˆì—ìš”.
ë‹¤ë¥¸ ê²ƒì€ íŠ¹ë³„í•œ ê²ƒì´ì—ìš”.

ë‚´ê°€ ì˜í•˜ëŠ” ê²ƒ:
ë‚˜ëŠ” ì–´ë–¤ ê²ƒì„ ì˜í• ê¹Œìš”?
ê·¸ë¦¼ ê·¸ë¦¬ê¸°? ë…¸ë˜í•˜ê¸°? ë›°ê¸°?
ëª¨ë‘ íŠ¹ë³„í•œ ì¬ëŠ¥ì´ì—ìš”.

ë‚´ê°€ ì¢‹ì•„í•˜ëŠ” ê²ƒ:
ë‚˜ëŠ” ë¬´ì—‡ì„ ì¢‹ì•„í• ê¹Œìš”?
ì¢‹ì•„í•˜ëŠ” ê²ƒë„ ë‚˜ë¥¼ íŠ¹ë³„í•˜ê²Œ ë§Œë“¤ì–´ìš”.

ë‚˜ë§Œì˜ íŠ¹ë³„í•¨:
ë‚˜ëŠ” ë‚˜ë§Œì˜ íŠ¹ë³„í•¨ì´ ìˆì–´ìš”.
ê·¸ íŠ¹ë³„í•¨ì„ ìë‘ìŠ¤ëŸ¬ì›Œí•  ìˆ˜ ìˆì–´ìš”.

ë‚˜ëŠ” ì†Œì¤‘í•˜ê³  íŠ¹ë³„í•´ìš”.
ëª¨ë“  ì‚¬ëŒì€ ë‹¤ë¥´ì§€ë§Œ ëª¨ë‘ ì†Œì¤‘í•œ ì¹œêµ¬ì˜ˆìš”.`
            }
        };

        // ìŒì„± ëª©ë¡ ë¡œë“œ (í•œêµ­ì–´ë§Œ, ì‹¤ì œ ë‹¤ë¥¸ ìŒì„±ë§Œ í‘œì‹œ)
        function loadVoices() {
            voices = synth.getVoices();
            voiceSelect.innerHTML = '<option value="">ê¸°ë³¸ ìŒì„± (ìë™ ì„ íƒ)</option>';
            
            const seenVoices = new Map(); // ì¤‘ë³µ ìŒì„± ì œê±°ìš©: keyëŠ” ìŒì„± ì´ë¦„, valueëŠ” ì‹¤ì œ ì¸ë±ìŠ¤
            const uniqueVoices = []; // ì‹¤ì œë¡œ ì¶”ê°€ëœ ìŒì„±ë“¤
            
            // í•œêµ­ì–´ ìŒì„± ìš°ì„ ìˆœìœ„
            const preferredNames = [
                'Neural', 'Premium', 'Enhanced', 'Natural', 'WaveNet', 'Cloud', 'Studio',
                'Yuna', 'Sora', 'Nara', 'Nayeon', 'Female', 'ì—¬ì„±', 'ì—¬ì',
                'Google', 'Microsoft', 'Samsung', 'Naver', 'Kakao', 'Apple', 'Amazon', 'IBM', 'Azure',
                'ì•„ë¦„', 'ì€í•˜', 'ì§€ì€', 'ìˆ˜ì§„', 'ë¯¸ë˜', 'í•˜ëŠ˜', 'ë‹¤ì€', 'ì„œì—°', 'ë¯¼ì§€', 'ì§€ìš°', 'ì˜ˆì€', 'ì±„ì›',
                'Korean', 'Korea', 'Seoul'
            ];
            
            // ëª¨ë“  í•œêµ­ì–´ ìŒì„± ìˆ˜ì§‘ (ì¤‘ë³µ ì œê±° - ê°™ì€ ì´ë¦„ì˜ ìŒì„±ì€ í•œ ë²ˆë§Œ)
            voices.forEach((voice, index) => {
                if (voice.lang.startsWith('ko') || voice.lang === 'ko-KR' || voice.lang === 'ko') {
                    const voiceKey = voice.name.toLowerCase().trim();
                    
                    // ê°™ì€ ì´ë¦„ì˜ ìŒì„±ì€ í•œ ë²ˆë§Œ ì¶”ê°€ (ì‹¤ì œë¡œ ë‹¤ë¥¸ ìŒì„±ë§Œ)
                    if (!seenVoices.has(voiceKey)) {
                        seenVoices.set(voiceKey, index);
                        uniqueVoices.push({ voice, index });
                    }
                }
            });
            
            // ìš°ì„ ìˆœìœ„ì— ë”°ë¼ ì •ë ¬
            uniqueVoices.sort((a, b) => {
                const aName = a.voice.name.toLowerCase();
                const bName = b.voice.name.toLowerCase();
                
                let aPriority = -1;
                let bPriority = -1;
                
                for (let i = 0; i < preferredNames.length; i++) {
                    if (aPriority === -1 && aName.includes(preferredNames[i].toLowerCase())) {
                        aPriority = i;
                    }
                    if (bPriority === -1 && bName.includes(preferredNames[i].toLowerCase())) {
                        bPriority = i;
                    }
                    if (aPriority !== -1 && bPriority !== -1) break;
                }
                
                if (aPriority === -1) aPriority = 999;
                if (bPriority === -1) bPriority = 999;
                
                return aPriority - bPriority;
            });
            
            let preferredVoiceValue = null;
            
            // ì •ë ¬ëœ ìŒì„±ë“¤ì„ ë“œë¡­ë‹¤ìš´ì— ì¶”ê°€
            uniqueVoices.forEach(({ voice, index }) => {
                const option = document.createElement('option');
                option.value = index;
                
                const voiceNameLower = voice.name.toLowerCase();
                
                // ìš°ì„ ìˆœìœ„ í‘œì‹œ
                let priority = '';
                let priorityLevel = -1;
                for (let i = 0; i < preferredNames.length; i++) {
                    if (voiceNameLower.includes(preferredNames[i].toLowerCase())) {
                        priorityLevel = i;
                        break;
                    }
                }
                
                if (priorityLevel >= 0) {
                    if (priorityLevel < 7) {
                        priority = ' â­â­â­';
                    } else if (priorityLevel < 15) {
                        priority = ' â­â­';
                    } else {
                        priority = ' â­';
                    }
                }
                
                // ì„±ë³„ í‘œì‹œ
                let gender = '';
                const femaleKeywords = ['female', 'ì—¬ì„±', 'ì—¬ì', 'yuna', 'sora', 'nara', 'nayeon',
                    'ì•„ë¦„', 'ì§€ì€', 'ìˆ˜ì§„', 'ë¯¸ë˜', 'ë‹¤ì€', 'ì„œì—°', 'ë¯¼ì§€', 'ì§€ìš°', 'ì˜ˆì€', 'ì±„ì›',
                    'mom', 'mother', 'ì—„ë§ˆ', 'ì–´ë¨¸ë‹ˆ', 'ì•„ì¤Œë§ˆ', 'ì•„ì£¼ë¨¸ë‹ˆ', 'girl', 'woman'];
                const maleKeywords = ['male', 'ë‚¨ì„±', 'ë‚¨ì', 'boy', 'man', 'ì•„ë¹ ', 'ì•„ë²„ì§€'];
                
                if (femaleKeywords.some(keyword => voiceNameLower.includes(keyword))) {
                    gender = ' ğŸ‘©';
                } else if (maleKeywords.some(keyword => voiceNameLower.includes(keyword))) {
                    gender = ' ğŸ‘¨';
                }
                
                option.textContent = `${voice.name}${priority}${gender}`;
                voiceSelect.appendChild(option);
                
                // ì²« ë²ˆì§¸ ìš°ì„ ìˆœìœ„ ìŒì„± ì„ íƒ
                if (preferredVoiceValue === null && priorityLevel >= 0 && priorityLevel < 15) {
                    preferredVoiceValue = index;
                }
            });
            
            // ìš°ì„ ìˆœìœ„ ìŒì„± ì„ íƒ
            if (preferredVoiceValue !== null) {
                voiceSelect.value = preferredVoiceValue;
            } else if (uniqueVoices.length > 0) {
                voiceSelect.value = uniqueVoices[0].index;
            }
            
            // í•œêµ­ì–´ ìŒì„± ê°œìˆ˜ í‘œì‹œ
            const totalVoices = uniqueVoices.length;
            if (totalVoices > 0) {
                const infoText = document.querySelector('.info-text');
                if (infoText) {
                    infoText.innerHTML = `ğŸ’¡ ${totalVoices}ê°œì˜ ì„œë¡œ ë‹¤ë¥¸ í•œêµ­ì–´ ìŒì„± ì¤‘ ì„ íƒ ê°€ëŠ¥í•©ë‹ˆë‹¤`;
                }
            }
        }

        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = loadVoices;
        }
        loadVoices();

        speedRange.addEventListener('input', (e) => {
            speedDisplay.textContent = parseFloat(e.target.value).toFixed(1) + 'x';
            if (utterance) {
                utterance.rate = parseFloat(e.target.value);
            }
        });
        
        speedDisplay.textContent = '0.9x';

        function showTab(tabName) {
            currentTab = tabName;
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        textInput.addEventListener('input', (e) => {
            charCount.textContent = e.target.value.length;
        });

        textInputChild.addEventListener('input', (e) => {
            charCountChild.textContent = e.target.value.length;
        });

        function updateProgress() {
            if (!utterance || !startTime) return;
            
            const elapsed = (Date.now() - startTime) / 1000;
            const progress = totalDuration > 0 ? Math.min((elapsed / totalDuration) * 100, 100) : 0;
            progressFill.style.width = progress + '%';
        }

        playBtn.addEventListener('click', () => {
            const activeTextarea = currentTab === 'parent' ? textInput : textInputChild;
            const text = activeTextarea.value.trim();
            if (!text) {
                alert('í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            if (synth.speaking && !synth.paused) {
                synth.pause();
            }

            utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'ko-KR'; // í•œêµ­ì–´ ê³ ì •
            utterance.volume = 1.0;

            const selectedVoiceValue = voiceSelect.value;
            
            // ìŒì„± ì„ íƒ ì²˜ë¦¬
            utterance.rate = parseFloat(speedRange.value);
            utterance.pitch = 1.0; // ê¸°ë³¸ pitch
            
            if (selectedVoiceValue !== '') {
                const voiceIndex = parseInt(selectedVoiceValue);
                if (voices[voiceIndex]) {
                    utterance.voice = voices[voiceIndex];
                }
            }

            // ëŒ€ëµì ì¸ ì½ê¸° ì‹œê°„ ê³„ì‚° (ì´ˆë‹¹ í‰ê·  3ê¸€ì)
            totalDuration = text.length / (3 * utterance.rate);
            startTime = Date.now();

            utterance.onstart = () => {
                status.textContent = 'ğŸ“– ì½ëŠ” ì¤‘...';
                status.className = 'status playing';
                playBtn.disabled = true;
                pauseBtn.disabled = false;
                stopBtn.disabled = false;
                progressContainer.classList.add('active');
                progressFill.style.width = '0%';
            };

            utterance.onend = () => {
                status.textContent = 'âœ… ì½ê¸° ì™„ë£Œ';
                status.className = 'status stopped';
                playBtn.disabled = false;
                pauseBtn.disabled = true;
                stopBtn.disabled = true;
                progressContainer.classList.remove('active');
                progressFill.style.width = '100%';
                
                // ì½ê¸° ê¸°ë¡ ì €ì¥
                if (startTime && text) {
                    const readingTime = (Date.now() - startTime) / 1000 / 60; // ë¶„ ë‹¨ìœ„
                    let readingHistory = JSON.parse(localStorage.getItem('readwithmom_history')) || [];
                    let readingStats = JSON.parse(localStorage.getItem('readwithmom_stats')) || {
                        totalReadings: 0,
                        totalReadingTime: 0,
                        totalCharacters: 0
                    };
                    
                    readingHistory.push({
                        date: new Date().toLocaleString('ko-KR'),
                        text: text.substring(0, 100) + (text.length > 100 ? '...' : ''),
                        fullText: text,
                        tab: currentTab,
                        duration: readingTime,
                        timestamp: new Date().toISOString()
                    });
                    
                    readingStats.totalReadings++;
                    readingStats.totalReadingTime += readingTime;
                    readingStats.totalCharacters += text.length;
                    
                    if (readingHistory.length > 100) {
                        readingHistory = readingHistory.slice(-100);
                    }
                    
                    localStorage.setItem('readwithmom_history', JSON.stringify(readingHistory));
                    localStorage.setItem('readwithmom_stats', JSON.stringify(readingStats));
                    updateStats();
                }
                
                startTime = null;
            };

            utterance.onerror = (event) => {
                status.textContent = 'âŒ ì˜¤ë¥˜ ë°œìƒ: ' + event.error;
                status.className = 'status stopped';
                playBtn.disabled = false;
                pauseBtn.disabled = true;
                stopBtn.disabled = true;
                progressContainer.classList.remove('active');
                startTime = null;
            };

            synth.speak(utterance);
            
            // ì§„í–‰ ìƒí™© ì—…ë°ì´íŠ¸
            const progressInterval = setInterval(() => {
                if (!synth.speaking && !synth.paused) {
                    clearInterval(progressInterval);
                } else {
                    updateProgress();
                }
            }, 100);
        });

        pauseBtn.addEventListener('click', () => {
            if (synth.speaking && !synth.paused) {
                synth.pause();
                status.textContent = 'â¸ï¸ ì¼ì‹œì •ì§€ë¨';
                pauseBtn.textContent = 'â–¶ï¸ ì¬ê°œ';
            } else if (synth.paused) {
                synth.resume();
                startTime = Date.now() - ((progressFill.style.width.replace('%', '') / 100) * totalDuration * 1000);
                status.textContent = 'ğŸ“– ì½ëŠ” ì¤‘...';
                pauseBtn.textContent = 'â¸ï¸ ì¼ì‹œì •ì§€';
            }
        });

        stopBtn.addEventListener('click', () => {
            synth.cancel();
            status.textContent = 'â¹ï¸ ì¤‘ì§€ë¨';
            status.className = 'status stopped';
            playBtn.disabled = false;
            pauseBtn.disabled = true;
            stopBtn.disabled = true;
            pauseBtn.textContent = 'â¸ï¸ ì¼ì‹œì •ì§€';
            progressContainer.classList.remove('active');
            progressFill.style.width = '0%';
            startTime = null;
        });

        function loadBook(tab, bookKey) {
            const activeTextarea = tab === 'parent' ? textInput : textInputChild;
            const charCounter = tab === 'parent' ? charCount : charCountChild;
            
            if (books[tab] && books[tab][bookKey]) {
                activeTextarea.value = books[tab][bookKey];
                charCounter.textContent = activeTextarea.value.length;
                
                // í•´ë‹¹ íƒ­ìœ¼ë¡œ ì „í™˜
                if (currentTab !== tab) {
                    showTab(tab);
                }
            }
        }

        // ì½ê¸° ê¸°ë¡ ë° í†µê³„
        let readingHistory = JSON.parse(localStorage.getItem('readwithmom_history')) || [];
        let readingStats = JSON.parse(localStorage.getItem('readwithmom_stats')) || {
            totalReadings: 0,
            totalReadingTime: 0,
            totalCharacters: 0
        };

        function updateStats() {
            document.getElementById('totalReadings').textContent = readingStats.totalReadings;
            document.getElementById('totalReadingTime').textContent = Math.round(readingStats.totalReadingTime) + 'ë¶„';
            document.getElementById('totalCharacters').textContent = readingStats.totalCharacters.toLocaleString();
        }

        // ì¦ê²¨ì°¾ê¸° ì €ì¥
        function saveBookmark() {
            const activeTextarea = currentTab === 'parent' ? textInput : textInputChild;
            const text = activeTextarea.value.trim();
            
            if (!text) {
                alert('ì €ì¥í•  í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const title = prompt('ì¦ê²¨ì°¾ê¸° ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”:', text.substring(0, 30));
            if (!title) return;
            
            const bookmarks = JSON.parse(localStorage.getItem('readwithmom_bookmarks')) || [];
            bookmarks.push({
                id: Date.now().toString(),
                title: title,
                text: text,
                tab: currentTab,
                date: new Date().toLocaleString('ko-KR'),
                timestamp: new Date().toISOString()
            });
            
            localStorage.setItem('readwithmom_bookmarks', JSON.stringify(bookmarks));
            alert('ì¦ê²¨ì°¾ê¸°ì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        // ì¦ê²¨ì°¾ê¸° ë³´ê¸°
        function loadBookmarks() {
            const bookmarks = JSON.parse(localStorage.getItem('readwithmom_bookmarks')) || [];
            
            if (bookmarks.length === 0) {
                alert('ì €ì¥ëœ ì¦ê²¨ì°¾ê¸°ê°€ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }
            
            let html = '<div style="max-height: 500px; overflow-y: auto; padding: 20px;">';
            html += '<h3 style="margin-bottom: 20px; color: #333;">â­ ì¦ê²¨ì°¾ê¸°</h3>';
            
            bookmarks.reverse().forEach((bookmark) => {
                html += `
                    <div style="padding: 15px; margin-bottom: 15px; background: #f8f9fa; border-radius: 10px; border-left: 4px solid #ffc107;">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px;">
                            <h4 style="color: #333; margin: 0;">${escapeHtml(bookmark.title)}</h4>
                            <button onclick="deleteBookmark('${bookmark.id}')" style="background: #dc3545; color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 0.85em;">ì‚­ì œ</button>
                        </div>
                        <p style="color: #666; font-size: 0.9em; margin-bottom: 10px;">${escapeHtml(bookmark.text.substring(0, 150))}${bookmark.text.length > 150 ? '...' : ''}</p>
                        <div style="display: flex; gap: 10px;">
                            <button onclick="loadBookmarkText('${bookmark.id}')" style="background: #28a745; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer;">ë¶ˆëŸ¬ì˜¤ê¸°</button>
                            <span style="color: #999; font-size: 0.85em; line-height: 2;">${bookmark.date}</span>
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            
            const modal = document.createElement('div');
            modal.id = 'bookmarksModal';
            modal.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 10000; display: flex; align-items: center; justify-content: center;';
            
            const closeModal = function() {
                const modalElement = document.getElementById('bookmarksModal');
                if (modalElement) modalElement.remove();
            };
            
            modal.addEventListener('click', function(e) {
                if (e.target === modal) closeModal();
            });
            
            modal.innerHTML = `
                <div style="background: white; border-radius: 20px; padding: 30px; max-width: 600px; width: 90%; max-height: 80vh; overflow-y: auto; position: relative;">
                    <button id="closeBookmarks" style="position: absolute; top: 15px; right: 15px; background: #dc3545; color: white; border: none; width: 30px; height: 30px; border-radius: 50%; cursor: pointer; font-size: 1.2em; z-index: 10001;">Ã—</button>
                    ${html}
                </div>
            `;
            document.body.appendChild(modal);
            
            const closeBtn = document.getElementById('closeBookmarks');
            if (closeBtn) closeBtn.addEventListener('click', closeModal);
        }

        function loadBookmarkText(id) {
            const bookmarks = JSON.parse(localStorage.getItem('readwithmom_bookmarks')) || [];
            const bookmark = bookmarks.find(b => b.id === id);
            
            if (bookmark) {
                if (bookmark.tab === 'parent') {
                    textInput.value = bookmark.text;
                    showTab('parent');
                    charCount.textContent = bookmark.text.length;
                } else {
                    textInputChild.value = bookmark.text;
                    showTab('child');
                    charCountChild.textContent = bookmark.text.length;
                }
                const modal = document.getElementById('bookmarksModal');
                if (modal) modal.remove();
                alert('í…ìŠ¤íŠ¸ê°€ ë¶ˆëŸ¬ì™€ì¡ŒìŠµë‹ˆë‹¤!');
            }
        }

        function deleteBookmark(id) {
            if (confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                const bookmarks = JSON.parse(localStorage.getItem('readwithmom_bookmarks')) || [];
                const filtered = bookmarks.filter(b => b.id !== id);
                localStorage.setItem('readwithmom_bookmarks', JSON.stringify(filtered));
                loadBookmarks();
            }
        }

        // í…ìŠ¤íŠ¸ ì €ì¥
        function saveText() {
            const activeTextarea = currentTab === 'parent' ? textInput : textInputChild;
            const text = activeTextarea.value.trim();
            
            if (!text) {
                alert('ì €ì¥í•  í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const title = prompt('ì €ì¥í•  í…ìŠ¤íŠ¸ì˜ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”:', 'ì €ì¥ëœ í…ìŠ¤íŠ¸ ' + new Date().toLocaleDateString('ko-KR'));
            if (!title) return;
            
            const savedTexts = JSON.parse(localStorage.getItem('readwithmom_saved_texts')) || [];
            savedTexts.push({
                id: Date.now().toString(),
                title: title,
                text: text,
                tab: currentTab,
                date: new Date().toLocaleString('ko-KR'),
                timestamp: new Date().toISOString()
            });
            
            localStorage.setItem('readwithmom_saved_texts', JSON.stringify(savedTexts));
            alert('í…ìŠ¤íŠ¸ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        // ì €ì¥ëœ í…ìŠ¤íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸°
        function loadSavedTexts() {
            const savedTexts = JSON.parse(localStorage.getItem('readwithmom_saved_texts')) || [];
            
            if (savedTexts.length === 0) {
                alert('ì €ì¥ëœ í…ìŠ¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }
            
            let html = '<div style="max-height: 500px; overflow-y: auto; padding: 20px;">';
            html += '<h3 style="margin-bottom: 20px; color: #333;">ğŸ’¾ ì €ì¥ëœ í…ìŠ¤íŠ¸</h3>';
            
            savedTexts.reverse().forEach((saved) => {
                html += `
                    <div style="padding: 15px; margin-bottom: 15px; background: #f8f9fa; border-radius: 10px; border-left: 4px solid #28a745;">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px;">
                            <h4 style="color: #333; margin: 0;">${escapeHtml(saved.title)}</h4>
                            <button onclick="deleteSavedText('${saved.id}')" style="background: #dc3545; color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 0.85em;">ì‚­ì œ</button>
                        </div>
                        <p style="color: #666; font-size: 0.9em; margin-bottom: 10px;">${escapeHtml(saved.text.substring(0, 150))}${saved.text.length > 150 ? '...' : ''}</p>
                        <div style="display: flex; gap: 10px;">
                            <button onclick="loadSavedText('${saved.id}')" style="background: #28a745; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer;">ë¶ˆëŸ¬ì˜¤ê¸°</button>
                            <span style="color: #999; font-size: 0.85em; line-height: 2;">${saved.date}</span>
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            
            const modal = document.createElement('div');
            modal.id = 'savedTextsModal';
            modal.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 10000; display: flex; align-items: center; justify-content: center;';
            
            const closeModal = function() {
                const modalElement = document.getElementById('savedTextsModal');
                if (modalElement) modalElement.remove();
            };
            
            modal.addEventListener('click', function(e) {
                if (e.target === modal) closeModal();
            });
            
            modal.innerHTML = `
                <div style="background: white; border-radius: 20px; padding: 30px; max-width: 600px; width: 90%; max-height: 80vh; overflow-y: auto; position: relative;">
                    <button id="closeSavedTexts" style="position: absolute; top: 15px; right: 15px; background: #dc3545; color: white; border: none; width: 30px; height: 30px; border-radius: 50%; cursor: pointer; font-size: 1.2em; z-index: 10001;">Ã—</button>
                    ${html}
                </div>
            `;
            document.body.appendChild(modal);
            
            const closeBtn = document.getElementById('closeSavedTexts');
            if (closeBtn) closeBtn.addEventListener('click', closeModal);
        }

        function loadSavedText(id) {
            const savedTexts = JSON.parse(localStorage.getItem('readwithmom_saved_texts')) || [];
            const saved = savedTexts.find(s => s.id === id);
            
            if (saved) {
                if (saved.tab === 'parent') {
                    textInput.value = saved.text;
                    showTab('parent');
                    charCount.textContent = saved.text.length;
                } else {
                    textInputChild.value = saved.text;
                    showTab('child');
                    charCountChild.textContent = saved.text.length;
                }
                const modal = document.getElementById('savedTextsModal');
                if (modal) modal.remove();
                alert('í…ìŠ¤íŠ¸ê°€ ë¶ˆëŸ¬ì™€ì¡ŒìŠµë‹ˆë‹¤!');
            }
        }

        function deleteSavedText(id) {
            if (confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                const savedTexts = JSON.parse(localStorage.getItem('readwithmom_saved_texts')) || [];
                const filtered = savedTexts.filter(s => s.id !== id);
                localStorage.setItem('readwithmom_saved_texts', JSON.stringify(filtered));
                loadSavedTexts();
            }
        }

        // ì½ê¸° ê¸°ë¡ ë³´ê¸°
        function showReadingHistory() {
            const history = JSON.parse(localStorage.getItem('readwithmom_history')) || [];
            
            if (history.length === 0) {
                alert('ì½ê¸° ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }
            
            let html = '<div style="max-height: 500px; overflow-y: auto; padding: 20px;">';
            html += '<h3 style="margin-bottom: 20px; color: #333;">ğŸ“Š ì½ê¸° ê¸°ë¡</h3>';
            
            history.slice().reverse().slice(0, 20).forEach((record) => {
                html += `
                    <div style="padding: 15px; margin-bottom: 15px; background: #f8f9fa; border-radius: 10px; border-left: 4px solid #fd7e14;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <strong style="color: #333;">${record.date}</strong>
                            <span style="color: #666; font-size: 0.9em;">${Math.round(record.duration)}ë¶„ ì½ìŒ</span>
                        </div>
                        <p style="color: #666; font-size: 0.9em; margin: 0;">${escapeHtml(record.text)}</p>
                        <div style="margin-top: 8px; font-size: 0.85em; color: #999;">
                            ${record.tab === 'parent' ? 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ ë¶€ëª¨ì™€ í•¨ê»˜' : 'ğŸ‘¶ ì•„ì´ë¥¼ ìœ„í•œ'} | ${record.fullText ? record.fullText.length : 0}ì
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            
            const modal = document.createElement('div');
            modal.id = 'readingHistoryModal';
            modal.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 10000; display: flex; align-items: center; justify-content: center;';
            
            const closeModal = function() {
                const modalElement = document.getElementById('readingHistoryModal');
                if (modalElement) modalElement.remove();
            };
            
            modal.addEventListener('click', function(e) {
                if (e.target === modal) closeModal();
            });
            
            modal.innerHTML = `
                <div style="background: white; border-radius: 20px; padding: 30px; max-width: 600px; width: 90%; max-height: 80vh; overflow-y: auto; position: relative;">
                    <button id="closeReadingHistory" style="position: absolute; top: 15px; right: 15px; background: #dc3545; color: white; border: none; width: 30px; height: 30px; border-radius: 50%; cursor: pointer; font-size: 1.2em; z-index: 10001;">Ã—</button>
                    ${html}
                </div>
            `;
            document.body.appendChild(modal);
            
            const closeBtn = document.getElementById('closeReadingHistory');
            if (closeBtn) closeBtn.addEventListener('click', closeModal);
        }

        // ëŒ€í™” ê°€ì´ë“œ
        function showConversationGuide() {
            const guides = {
                parent: [
                    {
                        topic: 'ê°ì • ì¸ì‹í•˜ê¸°',
                        questions: [
                            'ì˜¤ëŠ˜ ì–´ë–¤ ê°ì •ì„ ëŠê¼ˆì–´ìš”?',
                            'í™”ê°€ ë‚  ë•ŒëŠ” ì–´ë–»ê²Œ í•˜ë©´ ì¢‹ì„ê¹Œìš”?',
                            'ìŠ¬í”Œ ë•ŒëŠ” ì–´ë–»ê²Œ í•˜ë©´ ì¢‹ì„ê¹Œìš”?',
                            'ê¸°ì  ë•ŒëŠ” ì–´ë–»ê²Œ í‘œí˜„í•˜ë©´ ì¢‹ì„ê¹Œìš”?'
                        ]
                    },
                    {
                        topic: 'ìì¡´ê° í‚¤ìš°ê¸°',
                        questions: [
                            'ë‚˜ëŠ” ì–´ë–¤ ì ì´ ì¢‹ì•„ìš”?',
                            'ë‚´ê°€ ì˜í•˜ëŠ” ê²ƒì€ ë¬´ì—‡ì¼ê¹Œìš”?',
                            'ìì¡´ê°ì´ ë†’ìœ¼ë©´ ì–´ë–¤ ì ì´ ì¢‹ì„ê¹Œìš”?',
                            'ìš°ë¦¬ëŠ” ì–´ë–»ê²Œ ìì¡´ê°ì„ í‚¤ìš¸ ìˆ˜ ìˆì„ê¹Œìš”?'
                        ]
                    },
                    {
                        topic: 'ì‚¬íšŒì„± ë°œë‹¬',
                        questions: [
                            'ì¹œêµ¬ì™€ í•¨ê»˜ í•  ë•Œ ì–´ë–¤ ì ì´ ì¢‹ì•„ìš”?',
                            'ì¹œêµ¬ê°€ ìŠ¬í¼í•˜ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œìš”?',
                            'í˜‘ë ¥í•œë‹¤ëŠ” ê²ƒì€ ë¬´ì—‡ì¼ê¹Œìš”?',
                            'ìš°ë¦¬ëŠ” ì–´ë–»ê²Œ ì¹œêµ¬ì™€ ì¢‹ì€ ê´€ê³„ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì„ê¹Œìš”?'
                        ]
                    }
                ],
                child: [
                    {
                        topic: 'ë‚´ ê°ì • ì•Œì•„ë³´ê¸°',
                        questions: [
                            'ì§€ê¸ˆ ì–´ë–¤ ê¸°ë¶„ì¸ê°€ìš”?',
                            'ê¸°ì  ë•ŒëŠ” ì–´ë–»ê²Œ ëŠê»´ì§€ë‚˜ìš”?',
                            'í™”ê°€ ë‚  ë•ŒëŠ” ì–´ë–»ê²Œ í•˜ë©´ ì¢‹ì„ê¹Œìš”?',
                            'ê°ì •ì„ í‘œí˜„í•˜ëŠ” ê²ƒì€ ì™œ ì¤‘ìš”í• ê¹Œìš”?'
                        ]
                    },
                    {
                        topic: 'ì¹œêµ¬ì™€ í•¨ê»˜í•˜ê¸°',
                        questions: [
                            'ì¹œêµ¬ì™€ í•¨ê»˜ ë†€ ë•Œ ì–´ë–¤ ì ì´ ì¢‹ì•„ìš”?',
                            'ì¹œêµ¬ë¥¼ ë„ì™€ì¤„ ë•Œ ì–´ë–¤ ê¸°ë¶„ì´ ë“œë‚˜ìš”?',
                            'ì¹œêµ¬ì™€ ì‹¸ì› ì„ ë•ŒëŠ” ì–´ë–»ê²Œ í•˜ë©´ ì¢‹ì„ê¹Œìš”?',
                            'ì¹œêµ¬ë¥¼ ë°°ë ¤í•˜ëŠ” ê²ƒì€ ì™œ ì¤‘ìš”í• ê¹Œìš”?'
                        ]
                    },
                    {
                        topic: 'ë‚˜ë§Œì˜ íŠ¹ë³„í•¨',
                        questions: [
                            'ë‚˜ëŠ” ì–´ë–¤ ì ì´ íŠ¹ë³„í•œê°€ìš”?',
                            'ë‚´ê°€ ì˜í•˜ëŠ” ê²ƒì€ ë¬´ì—‡ì¸ê°€ìš”?',
                            'ë‹¤ë¥¸ ì‚¬ëŒê³¼ ë‚˜ëŠ” ì–´ë–»ê²Œ ë‹¤ë¥¸ê°€ìš”?',
                            'ë‚˜ë§Œì˜ íŠ¹ë³„í•¨ì„ ì–´ë–»ê²Œ í‚¤ìš¸ ìˆ˜ ìˆì„ê¹Œìš”?'
                        ]
                    }
                ]
            };
            
            const currentGuides = guides[currentTab] || guides.parent;
            
            let html = '<div style="padding: 20px;">';
            html += '<h3 style="margin-bottom: 20px; color: #333;">ğŸ’¬ ë¶€ëª¨-ì•„ì´ ëŒ€í™” ê°€ì´ë“œ</h3>';
            
            currentGuides.forEach(guide => {
                html += `
                    <div style="margin-bottom: 25px; padding: 20px; background: #f8f9fa; border-radius: 12px; border-left: 4px solid #e83e8c;">
                        <h4 style="color: #e83e8c; margin-bottom: 15px;">${guide.topic}</h4>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            ${guide.questions.map(q => `
                                <li style="padding: 10px; margin-bottom: 8px; background: white; border-radius: 8px; color: #555;">
                                    ğŸ’­ ${q}
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                `;
            });
            
            html += '</div>';
            
            // ê¸°ì¡´ ëª¨ë‹¬ì´ ìˆìœ¼ë©´ ì œê±°
            const existingModal = document.getElementById('conversationGuideModal');
            if (existingModal) {
                existingModal.remove();
            }
            
            const modal = document.createElement('div');
            modal.id = 'conversationGuideModal';
            modal.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 10000; display: flex; align-items: center; justify-content: center;';
            
            // ë‹«ê¸° í•¨ìˆ˜ - ì—¬ëŸ¬ ë°©ë²•ìœ¼ë¡œ ì‹œë„
            function closeModal() {
                const modalElement = document.getElementById('conversationGuideModal');
                if (modalElement) {
                    modalElement.style.display = 'none';
                    modalElement.remove();
                }
                // ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œë„ ì‹œë„
                const allModals = document.querySelectorAll('div[style*="position: fixed"][style*="z-index: 10000"]');
                allModals.forEach(m => {
                    if (m.id === 'conversationGuideModal' || m.querySelector('#conversationGuideModal')) {
                        m.remove();
                    }
                });
            }
            
            // ì „ì—­ í•¨ìˆ˜ë¡œë„ ë“±ë¡
            window.closeConversationGuideModal = closeModal;
            
            // ë°°ê²½ í´ë¦­ ì‹œ ë‹«ê¸°
            modal.addEventListener('click', function(e) {
                if (e.target === modal || e.target.id === 'conversationGuideModal') {
                    closeModal();
                }
            });
            
            const modalContent = document.createElement('div');
            modalContent.style.cssText = 'background: white; border-radius: 20px; padding: 30px; max-width: 700px; width: 90%; max-height: 80vh; overflow-y: auto; position: relative;';
            
            const closeButton = document.createElement('button');
            closeButton.textContent = 'Ã—';
            closeButton.style.cssText = 'position: absolute; top: 15px; right: 15px; background: #dc3545; color: white; border: none; width: 30px; height: 30px; border-radius: 50%; cursor: pointer; font-size: 1.2em; z-index: 10001; font-weight: bold;';
            closeButton.onclick = closeModal;
            closeButton.addEventListener('click', closeModal);
            
            modalContent.innerHTML = html;
            modalContent.insertBefore(closeButton, modalContent.firstChild);
            modal.appendChild(modalContent);
            document.body.appendChild(modal);
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // ì´ˆê¸° í†µê³„ ë¡œë“œ
        updateStats();

        charCount.textContent = textInput.value.length;
        charCountChild.textContent = textInputChild.value.length;
    </script>
</body>
</html>
