<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReadWithMom - Voice Cloning Audiobook</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .main-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
            font-size: 1.1em;
        }

        textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1em;
            font-family: inherit;
            resize: vertical;
            min-height: 200px;
            transition: border-color 0.3s;
        }

        textarea:focus {
            outline: none;
            border-color: #ff9a9e;
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .control-group {
            display: flex;
            flex-direction: column;
        }

        .control-group label {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 5px;
        }

        select, input[type="range"] {
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
        }

        select:focus {
            outline: none;
            border-color: #ff9a9e;
        }

        .speed-display {
            text-align: center;
            color: #ff6b9d;
            font-weight: bold;
            margin-top: 5px;
        }

        .button-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
            min-width: 150px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            color: #333;
            font-weight: 700;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: #f8f9fa;
            color: #333;
            border: 2px solid #e0e0e0;
        }

        .btn-secondary:hover {
            background: #e9ecef;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .status {
            margin-top: 20px;
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            font-weight: 600;
        }

        .status.playing {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }

        .status.stopped {
            background: #f8f9fa;
            color: #666;
        }

        .example-texts {
            margin-top: 30px;
            padding-top: 30px;
            border-top: 2px solid #e0e0e0;
        }

        .example-texts h3 {
            color: #333;
            margin-bottom: 15px;
        }

        .example-btn {
            display: inline-block;
            padding: 8px 16px;
            margin: 5px;
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.2s;
        }

        .example-btn:hover {
            background: #ff9a9e;
            color: white;
            border-color: #ff9a9e;
        }

        .char-count {
            text-align: right;
            color: #666;
            font-size: 0.9em;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“š ReadWithMom</h1>
            <p>Voice Cloning Audiobook - í…ìŠ¤íŠ¸ë¥¼ ìŒì„±ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ì˜¤ë””ì˜¤ë¶</p>
        </div>

        <div class="main-card">
            <div class="form-group">
                <label for="textInput">ì½ì„ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”</label>
                <textarea id="textInput" placeholder="ì—¬ê¸°ì— ì½ê³  ì‹¶ì€ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”...&#10;&#10;ì˜ˆ: ì˜¤ëŠ˜ì€ ì¢‹ì€ ë‚ ì…ë‹ˆë‹¤. ì´ ì˜¤ë””ì˜¤ë¶ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ í…ìŠ¤íŠ¸ë¥¼ ìŒì„±ìœ¼ë¡œ ë“¤ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤."></textarea>
                <div class="char-count">
                    <span id="charCount">0</span> ê¸€ì
                </div>
            </div>

            <div class="controls">
                <div class="control-group">
                    <label>ì–¸ì–´ ì„ íƒ</label>
                    <select id="languageSelect">
                        <option value="ko-KR">í•œêµ­ì–´</option>
                        <option value="en-US">English (US)</option>
                        <option value="en-GB">English (UK)</option>
                        <option value="ja-JP">æ—¥æœ¬èª</option>
                        <option value="zh-CN">ä¸­æ–‡</option>
                        <option value="es-ES">EspaÃ±ol</option>
                        <option value="fr-FR">FranÃ§ais</option>
                        <option value="de-DE">Deutsch</option>
                    </select>
                </div>

                <div class="control-group">
                    <label>ìŒì„± ì„ íƒ</label>
                    <select id="voiceSelect">
                        <option value="">ê¸°ë³¸ ìŒì„±</option>
                    </select>
                </div>

                <div class="control-group">
                    <label>ì½ê¸° ì†ë„</label>
                    <input type="range" id="speedRange" min="0.5" max="2" step="0.1" value="0.9">
                    <div class="speed-display" id="speedDisplay">0.9x</div>
                </div>
            </div>

            <div class="button-group">
                <button class="btn btn-primary" id="playBtn">â–¶ï¸ ì½ê¸° ì‹œì‘</button>
                <button class="btn btn-secondary" id="pauseBtn" disabled>â¸ï¸ ì¼ì‹œì •ì§€</button>
                <button class="btn btn-danger" id="stopBtn" disabled>â¹ï¸ ì¤‘ì§€</button>
            </div>

            <div class="status stopped" id="status">
                ì¤€ë¹„ë¨
            </div>

            <div class="example-texts">
                <h3>ğŸ“– ì˜ˆì‹œ í…ìŠ¤íŠ¸</h3>
                <button class="example-btn" onclick="loadExample('korean')">í•œêµ­ì–´ ì˜ˆì‹œ</button>
                <button class="example-btn" onclick="loadExample('english')">English Example</button>
                <button class="example-btn" onclick="loadExample('story')">ì§§ì€ ì´ì•¼ê¸°</button>
                <button class="example-btn" onclick="loadExample('psychology')">ì‹¬ë¦¬í•™ ê´€ë ¨</button>
            </div>
        </div>
    </div>

    <script>
        const textInput = document.getElementById('textInput');
        const languageSelect = document.getElementById('languageSelect');
        const voiceSelect = document.getElementById('voiceSelect');
        const speedRange = document.getElementById('speedRange');
        const speedDisplay = document.getElementById('speedDisplay');
        const playBtn = document.getElementById('playBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const stopBtn = document.getElementById('stopBtn');
        const status = document.getElementById('status');
        const charCount = document.getElementById('charCount');

        let synth = window.speechSynthesis;
        let utterance = null;
        let voices = [];

        // ìŒì„± ëª©ë¡ ë¡œë“œ
        function loadVoices() {
            voices = synth.getVoices();
            voiceSelect.innerHTML = '<option value="">ê¸°ë³¸ ìŒì„± (ìë™ ì„ íƒ)</option>';
            
            const currentLang = languageSelect.value;
            let preferredVoiceIndex = null;
            let preferredVoiceName = '';
            
            // í•œêµ­ì–´ì˜ ê²½ìš° ì—¬ì„± ìŒì„±ì„ ìš°ì„  ì„ íƒ
            const preferredNames = ['Yuna', 'Sora', 'Nara', 'Nayeon', 'Female', 'ì—¬ì„±'];
            
            voices.forEach((voice, index) => {
                if (voice.lang.startsWith(currentLang.split('-')[0])) {
                    const option = document.createElement('option');
                    option.value = index;
                    option.textContent = `${voice.name} (${voice.lang})`;
                    voiceSelect.appendChild(option);
                    
                    // ë” ë¶€ë“œëŸ¬ìš´ ìŒì„± ìë™ ì„ íƒ
                    if (preferredVoiceIndex === null) {
                        const voiceNameLower = voice.name.toLowerCase();
                        if (preferredNames.some(name => voiceNameLower.includes(name.toLowerCase()))) {
                            preferredVoiceIndex = index;
                            preferredVoiceName = voice.name;
                        }
                    }
                }
            });
            
            // ë¶€ë“œëŸ¬ìš´ ìŒì„±ì„ ì°¾ì§€ ëª»í–ˆìœ¼ë©´ ì²« ë²ˆì§¸ í•œêµ­ì–´ ìŒì„± ì„ íƒ
            if (preferredVoiceIndex === null && voices.length > 0) {
                for (let i = 0; i < voices.length; i++) {
                    if (voices[i].lang.startsWith(currentLang.split('-')[0])) {
                        preferredVoiceIndex = i;
                        break;
                    }
                }
            }
            
            // ìë™ìœ¼ë¡œ ë¶€ë“œëŸ¬ìš´ ìŒì„± ì„ íƒ
            if (preferredVoiceIndex !== null) {
                voiceSelect.value = preferredVoiceIndex;
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìŒì„± ëª©ë¡ ë¡œë“œ
        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = loadVoices;
        }
        loadVoices();

        // ì–¸ì–´ ë³€ê²½ ì‹œ ìŒì„± ëª©ë¡ ì—…ë°ì´íŠ¸
        languageSelect.addEventListener('change', loadVoices);

        // ì†ë„ í‘œì‹œ ì—…ë°ì´íŠ¸
        speedRange.addEventListener('input', (e) => {
            speedDisplay.textContent = parseFloat(e.target.value).toFixed(1) + 'x';
        });
        
        // ì´ˆê¸° ì†ë„ í‘œì‹œ
        speedDisplay.textContent = '0.9x';

        // ê¸€ì ìˆ˜ ì¹´ìš´íŠ¸
        textInput.addEventListener('input', (e) => {
            charCount.textContent = e.target.value.length;
        });

        // ì½ê¸° ì‹œì‘
        playBtn.addEventListener('click', () => {
            const text = textInput.value.trim();
            if (!text) {
                alert('í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            if (synth.speaking && !synth.paused) {
                synth.pause();
            }

            utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = languageSelect.value;
            utterance.rate = parseFloat(speedRange.value);
            utterance.pitch = 0.85; // ë” ë¶€ë“œëŸ½ê³  ë”°ëœ»í•œ í†¤
            utterance.volume = 1;

            // ìŒì„± ì„ íƒ
            const selectedVoiceIndex = voiceSelect.value;
            if (selectedVoiceIndex !== '') {
                utterance.voice = voices[selectedVoiceIndex];
            }

            utterance.onstart = () => {
                status.textContent = 'ì½ëŠ” ì¤‘...';
                status.className = 'status playing';
                playBtn.disabled = true;
                pauseBtn.disabled = false;
                stopBtn.disabled = false;
            };

            utterance.onend = () => {
                status.textContent = 'ì½ê¸° ì™„ë£Œ';
                status.className = 'status stopped';
                playBtn.disabled = false;
                pauseBtn.disabled = true;
                stopBtn.disabled = true;
            };

            utterance.onerror = (event) => {
                status.textContent = 'ì˜¤ë¥˜ ë°œìƒ: ' + event.error;
                status.className = 'status stopped';
                playBtn.disabled = false;
                pauseBtn.disabled = true;
                stopBtn.disabled = true;
            };

            synth.speak(utterance);
        });

        // ì¼ì‹œì •ì§€
        pauseBtn.addEventListener('click', () => {
            if (synth.speaking && !synth.paused) {
                synth.pause();
                status.textContent = 'ì¼ì‹œì •ì§€ë¨';
                pauseBtn.textContent = 'â–¶ï¸ ì¬ê°œ';
            } else if (synth.paused) {
                synth.resume();
                status.textContent = 'ì½ëŠ” ì¤‘...';
                pauseBtn.textContent = 'â¸ï¸ ì¼ì‹œì •ì§€';
            }
        });

        // ì¤‘ì§€
        stopBtn.addEventListener('click', () => {
            synth.cancel();
            status.textContent = 'ì¤‘ì§€ë¨';
            status.className = 'status stopped';
            playBtn.disabled = false;
            pauseBtn.disabled = true;
            stopBtn.disabled = true;
            pauseBtn.textContent = 'â¸ï¸ ì¼ì‹œì •ì§€';
        });

        // ì˜ˆì‹œ í…ìŠ¤íŠ¸ ë¡œë“œ
        function loadExample(type) {
            const examples = {
                korean: `ì•ˆë…•í•˜ì„¸ìš”. ReadWithMom ì˜¤ë””ì˜¤ë¶ ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ë³´ì„¸ìš”. 
ì´ ê¸°ëŠ¥ì€ í…ìŠ¤íŠ¸ë¥¼ ìŒì„±ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ì½ì–´ì¤ë‹ˆë‹¤. 
ì±…ì„ ì½ê¸° ì–´ë ¤ìš´ ìƒí™©ì—ì„œë„ ë‚´ìš©ì„ ë“¤ì„ ìˆ˜ ìˆì–´ ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤. 
ì–¸ì–´ì™€ ì½ê¸° ì†ë„ë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆì–´ ìì‹ ì—ê²Œ ë§ëŠ” ì„¤ì •ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`,

                english: `Hello! Welcome to ReadWithMom Audiobook. 
This feature converts text to speech, making it easy to listen to content. 
You can adjust the language and reading speed to suit your preferences. 
It's perfect for when you want to listen instead of read.`,

                story: `ì˜›ë‚  ì˜›ë‚ ì—, ì‘ì€ ë§ˆì„ì— í• ë¨¸ë‹ˆê°€ ì‚´ê³  ìˆì—ˆìŠµë‹ˆë‹¤. 
í• ë¨¸ë‹ˆëŠ” ë§¤ì¼ ì•„ì¹¨ ì¼ì° ì¼ì–´ë‚˜ì„œ ì •ì›ì˜ ê½ƒë“¤ì—ê²Œ ë¬¼ì„ ì£¼ì—ˆìŠµë‹ˆë‹¤. 
ì–´ëŠ ë‚ , í• ë¨¸ë‹ˆëŠ” ì •ì›ì—ì„œ ë°˜ì§ì´ëŠ” ì‘ì€ ëŒë©©ì´ë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤. 
ê·¸ ëŒë©©ì´ëŠ” ë§ˆë²•ì˜ ëŒì´ì—ˆê³ , í• ë¨¸ë‹ˆì˜ ì†Œì›ì„ ë“¤ì–´ì£¼ì—ˆìŠµë‹ˆë‹¤. 
í• ë¨¸ë‹ˆëŠ” "ëª¨ë“  ì‚¬ëŒì´ í–‰ë³µí–ˆìœ¼ë©´ ì¢‹ê² ë‹¤"ê³  ì†Œì›ì„ ë¹Œì—ˆê³ , 
ê·¸ ì´í›„ë¡œ ë§ˆì„ì€ ë”ìš± í‰í™”ë¡­ê³  í–‰ë³µí•œ ê³³ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.`,

                psychology: `ì¸ì§€ í–‰ë™ ì¹˜ë£Œ(CBT)ëŠ” ì‹¬ë¦¬ ì¹˜ë£Œì˜ í•œ ë°©ë²•ì…ë‹ˆë‹¤. 
ì´ ì¹˜ë£Œë²•ì€ ì‚¬ëŒì˜ ìƒê°, ê°ì •, í–‰ë™ì´ ì„œë¡œ ì—°ê²°ë˜ì–´ ìˆë‹¤ê³  ë´…ë‹ˆë‹¤. 
ë¶€ì •ì ì¸ ìƒê° íŒ¨í„´ì„ ì¸ì‹í•˜ê³  ë³€í™”ì‹œí‚´ìœ¼ë¡œì¨, 
ë” ê±´ê°•í•œ ê°ì •ê³¼ í–‰ë™ì„ ì´ëŒì–´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
CBTëŠ” ìš°ìš¸ì¦, ë¶ˆì•ˆì¥ì•  ë“± ë‹¤ì–‘í•œ ì •ì‹ ê±´ê°• ë¬¸ì œì— íš¨ê³¼ì ì…ë‹ˆë‹¤.`
            };

            textInput.value = examples[type] || '';
            charCount.textContent = textInput.value.length;
        }

        // ì´ˆê¸° ê¸€ì ìˆ˜ í‘œì‹œ
        charCount.textContent = textInput.value.length;
    </script>
</body>
</html>

