<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReadWithMom - ì•„ë™ì‹¬ë¦¬ ë„ì›€ì±… ì˜¤ë””ì˜¤ë¶</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .main-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
            font-size: 1.1em;
        }

        textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1em;
            font-family: inherit;
            resize: vertical;
            min-height: 200px;
            transition: border-color 0.3s;
        }

        textarea:focus {
            outline: none;
            border-color: #ff9a9e;
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .control-group {
            display: flex;
            flex-direction: column;
        }

        .control-group label {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 5px;
        }

        select, input[type="range"] {
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
        }

        select:focus {
            outline: none;
            border-color: #ff9a9e;
        }

        .speed-display {
            text-align: center;
            color: #ff6b9d;
            font-weight: bold;
            margin-top: 5px;
        }

        .button-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
            min-width: 150px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            color: #333;
            font-weight: 700;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: #f8f9fa;
            color: #333;
            border: 2px solid #e0e0e0;
        }

        .btn-secondary:hover {
            background: #e9ecef;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .status {
            margin-top: 20px;
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            font-weight: 600;
        }

        .status.playing {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }

        .status.stopped {
            background: #f8f9fa;
            color: #666;
        }

        .example-texts {
            margin-top: 30px;
            padding-top: 30px;
            border-top: 2px solid #e0e0e0;
        }

        .example-texts h3 {
            color: #333;
            margin-bottom: 15px;
        }

        .example-btn {
            display: inline-block;
            padding: 8px 16px;
            margin: 5px;
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.2s;
        }

        .example-btn:hover {
            background: #ff9a9e;
            color: white;
            border-color: #ff9a9e;
        }

        .char-count {
            text-align: right;
            color: #666;
            font-size: 0.9em;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“š ReadWithMom</h1>
            <p>ì•„ë™ì‹¬ë¦¬ ë„ì›€ì±… ì˜¤ë””ì˜¤ë¶ - ì•„ì´ë¥¼ ìœ„í•œ ì‹¬ë¦¬í•™ ì½˜í…ì¸ ë¥¼ ë¶€ë“œëŸ¬ìš´ ëª©ì†Œë¦¬ë¡œ</p>
        </div>

        <div class="main-card">
            <div class="form-group">
                <label for="textInput">ì•„ë™ì‹¬ë¦¬ ë„ì›€ì±… í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”</label>
                <textarea id="textInput" placeholder="ì•„ì´ë¥¼ ìœ„í•œ ì‹¬ë¦¬í•™ ê´€ë ¨ ì±…, ê¸€, ë˜ëŠ” ë„ì›€ ì½˜í…ì¸ ë¥¼ ì…ë ¥í•˜ì„¸ìš”...&#10;&#10;ì˜ˆ: ì•„ì´ë“¤ì˜ ê°ì •ì„ ì´í•´í•˜ê³  í‘œí˜„í•˜ëŠ” ê²ƒì€ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤. ì•„ì´ê°€ ìŠ¬í”„ê±°ë‚˜ í™”ê°€ ë‚¬ì„ ë•Œ, ê·¸ ê°ì •ì„ ì¸ì •í•´ì£¼ê³  í•¨ê»˜ ì´ì•¼ê¸°í•´ë³´ì„¸ìš”."></textarea>
                <div class="char-count">
                    <span id="charCount">0</span> ê¸€ì
                </div>
            </div>

            <div class="controls">
                <div class="control-group">
                    <label>ì–¸ì–´ ì„ íƒ</label>
                    <select id="languageSelect">
                        <option value="ko-KR">í•œêµ­ì–´</option>
                        <option value="en-US">English (US)</option>
                        <option value="en-GB">English (UK)</option>
                        <option value="ja-JP">æ—¥æœ¬èª</option>
                        <option value="zh-CN">ä¸­æ–‡</option>
                        <option value="es-ES">EspaÃ±ol</option>
                        <option value="fr-FR">FranÃ§ais</option>
                        <option value="de-DE">Deutsch</option>
                    </select>
                </div>

                <div class="control-group">
                    <label>ìŒì„± ì„ íƒ</label>
                    <select id="voiceSelect">
                        <option value="">ê¸°ë³¸ ìŒì„±</option>
                    </select>
                </div>

                <div class="control-group">
                    <label>ì½ê¸° ì†ë„ (ëŠë¦¬ê²Œ = ë” ë¶€ë“œëŸ½ê²Œ)</label>
                    <input type="range" id="speedRange" min="0.5" max="2" step="0.1" value="0.8">
                    <div class="speed-display" id="speedDisplay">0.8x</div>
                </div>
            </div>

            <div class="button-group">
                <button class="btn btn-primary" id="playBtn">â–¶ï¸ ì½ê¸° ì‹œì‘</button>
                <button class="btn btn-secondary" id="pauseBtn" disabled>â¸ï¸ ì¼ì‹œì •ì§€</button>
                <button class="btn btn-danger" id="stopBtn" disabled>â¹ï¸ ì¤‘ì§€</button>
            </div>

            <div class="status stopped" id="status">
                ì¤€ë¹„ë¨
            </div>

            <div class="example-texts">
                <h3>ğŸ“– ì•„ë™ì‹¬ë¦¬ ë„ì›€ì±… ì˜ˆì‹œ</h3>
                <button class="example-btn" onclick="loadExample('emotion')">ì•„ì´ì˜ ê°ì • ì´í•´í•˜ê¸°</button>
                <button class="example-btn" onclick="loadExample('communication')">íš¨ê³¼ì ì¸ ì†Œí†µ</button>
                <button class="example-btn" onclick="loadExample('selfesteem')">ìì¡´ê° í‚¤ìš°ê¸°</button>
                <button class="example-btn" onclick="loadExample('behavior')">í–‰ë™ ì´í•´í•˜ê¸°</button>
                <button class="example-btn" onclick="loadExample('anxiety')">ë¶ˆì•ˆ ê´€ë¦¬í•˜ê¸°</button>
            </div>
        </div>
    </div>

    <script>
        const textInput = document.getElementById('textInput');
        const languageSelect = document.getElementById('languageSelect');
        const voiceSelect = document.getElementById('voiceSelect');
        const speedRange = document.getElementById('speedRange');
        const speedDisplay = document.getElementById('speedDisplay');
        const playBtn = document.getElementById('playBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const stopBtn = document.getElementById('stopBtn');
        const status = document.getElementById('status');
        const charCount = document.getElementById('charCount');

        let synth = window.speechSynthesis;
        let utterance = null;
        let voices = [];

        // ìŒì„± ëª©ë¡ ë¡œë“œ
        function loadVoices() {
            voices = synth.getVoices();
            voiceSelect.innerHTML = '<option value="">ê¸°ë³¸ ìŒì„± (ìë™ ì„ íƒ)</option>';
            
            const currentLang = languageSelect.value;
            let preferredVoiceIndex = null;
            let preferredVoiceName = '';
            
            // í•œêµ­ì–´ì˜ ê²½ìš° ì—¬ì„± ìŒì„±ì„ ìš°ì„  ì„ íƒ (ë” ë¶€ë“œëŸ¬ìš´ ìŒì„± ìš°ì„ )
            const preferredNames = ['Yuna', 'Sora', 'Nara', 'Nayeon', 'Female', 'ì—¬ì„±', 'Google', 'Microsoft', 'Neural'];
            
            voices.forEach((voice, index) => {
                if (voice.lang.startsWith(currentLang.split('-')[0])) {
                    const option = document.createElement('option');
                    option.value = index;
                    option.textContent = `${voice.name} (${voice.lang})`;
                    voiceSelect.appendChild(option);
                    
                    // ë” ë¶€ë“œëŸ¬ìš´ ìŒì„± ìë™ ì„ íƒ
                    if (preferredVoiceIndex === null) {
                        const voiceNameLower = voice.name.toLowerCase();
                        if (preferredNames.some(name => voiceNameLower.includes(name.toLowerCase()))) {
                            preferredVoiceIndex = index;
                            preferredVoiceName = voice.name;
                        }
                    }
                }
            });
            
            // ë¶€ë“œëŸ¬ìš´ ìŒì„±ì„ ì°¾ì§€ ëª»í–ˆìœ¼ë©´ ì²« ë²ˆì§¸ í•œêµ­ì–´ ìŒì„± ì„ íƒ
            if (preferredVoiceIndex === null && voices.length > 0) {
                for (let i = 0; i < voices.length; i++) {
                    if (voices[i].lang.startsWith(currentLang.split('-')[0])) {
                        preferredVoiceIndex = i;
                        break;
                    }
                }
            }
            
            // ìë™ìœ¼ë¡œ ë¶€ë“œëŸ¬ìš´ ìŒì„± ì„ íƒ
            if (preferredVoiceIndex !== null) {
                voiceSelect.value = preferredVoiceIndex;
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìŒì„± ëª©ë¡ ë¡œë“œ
        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = loadVoices;
        }
        loadVoices();

        // ì–¸ì–´ ë³€ê²½ ì‹œ ìŒì„± ëª©ë¡ ì—…ë°ì´íŠ¸
        languageSelect.addEventListener('change', loadVoices);

        // ì†ë„ í‘œì‹œ ì—…ë°ì´íŠ¸
        speedRange.addEventListener('input', (e) => {
            speedDisplay.textContent = parseFloat(e.target.value).toFixed(1) + 'x';
        });
        
        // ì´ˆê¸° ì†ë„ í‘œì‹œ
        speedDisplay.textContent = '0.8x';

        // ê¸€ì ìˆ˜ ì¹´ìš´íŠ¸
        textInput.addEventListener('input', (e) => {
            charCount.textContent = e.target.value.length;
        });

        // ì½ê¸° ì‹œì‘
        playBtn.addEventListener('click', () => {
            const text = textInput.value.trim();
            if (!text) {
                alert('í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            if (synth.speaking && !synth.paused) {
                synth.pause();
            }

            utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = languageSelect.value;
            utterance.rate = Math.max(0.7, parseFloat(speedRange.value) * 0.9); // ë” ëŠë¦¬ê²Œ, ì—¬ìœ ë¡­ê²Œ
            utterance.pitch = 0.7; // ë” ë‚®ê³  ë¶€ë“œëŸ¬ìš´ í†¤ (ì—„ë§ˆ ëª©ì†Œë¦¬ì²˜ëŸ¼)
            utterance.volume = 0.95; // ì•½ê°„ ë‚®ì¶°ì„œ ë” ë¶€ë“œëŸ½ê²Œ

            // ìŒì„± ì„ íƒ
            const selectedVoiceIndex = voiceSelect.value;
            if (selectedVoiceIndex !== '') {
                utterance.voice = voices[selectedVoiceIndex];
            }

            utterance.onstart = () => {
                status.textContent = 'ì½ëŠ” ì¤‘...';
                status.className = 'status playing';
                playBtn.disabled = true;
                pauseBtn.disabled = false;
                stopBtn.disabled = false;
            };

            utterance.onend = () => {
                status.textContent = 'ì½ê¸° ì™„ë£Œ';
                status.className = 'status stopped';
                playBtn.disabled = false;
                pauseBtn.disabled = true;
                stopBtn.disabled = true;
            };

            utterance.onerror = (event) => {
                status.textContent = 'ì˜¤ë¥˜ ë°œìƒ: ' + event.error;
                status.className = 'status stopped';
                playBtn.disabled = false;
                pauseBtn.disabled = true;
                stopBtn.disabled = true;
            };

            synth.speak(utterance);
        });

        // ì¼ì‹œì •ì§€
        pauseBtn.addEventListener('click', () => {
            if (synth.speaking && !synth.paused) {
                synth.pause();
                status.textContent = 'ì¼ì‹œì •ì§€ë¨';
                pauseBtn.textContent = 'â–¶ï¸ ì¬ê°œ';
            } else if (synth.paused) {
                synth.resume();
                status.textContent = 'ì½ëŠ” ì¤‘...';
                pauseBtn.textContent = 'â¸ï¸ ì¼ì‹œì •ì§€';
            }
        });

        // ì¤‘ì§€
        stopBtn.addEventListener('click', () => {
            synth.cancel();
            status.textContent = 'ì¤‘ì§€ë¨';
            status.className = 'status stopped';
            playBtn.disabled = false;
            pauseBtn.disabled = true;
            stopBtn.disabled = true;
            pauseBtn.textContent = 'â¸ï¸ ì¼ì‹œì •ì§€';
        });

        // ì˜ˆì‹œ í…ìŠ¤íŠ¸ ë¡œë“œ
        function loadExample(type) {
            const examples = {
                emotion: `ì•„ì´ë“¤ì˜ ê°ì •ì„ ì´í•´í•˜ê³  í‘œí˜„í•˜ëŠ” ê²ƒì€ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤. 
ì•„ì´ê°€ ìŠ¬í”„ê±°ë‚˜ í™”ê°€ ë‚¬ì„ ë•Œ, ê·¸ ê°ì •ì„ ì¸ì •í•´ì£¼ê³  í•¨ê»˜ ì´ì•¼ê¸°í•´ë³´ì„¸ìš”. 
"ì§€ê¸ˆ í™”ê°€ ë‚¬êµ¬ë‚˜", "ìŠ¬í”„êµ¬ë‚˜"ë¼ê³  ë§í•´ì£¼ë©´ ì•„ì´ëŠ” ìì‹ ì˜ ê°ì •ì„ ì´í•´í•˜ê²Œ ë©ë‹ˆë‹¤. 
ê°ì •ì€ ë‚˜ìœ ê²ƒì´ ì•„ë‹ˆë©°, ëª¨ë“  ê°ì •ì€ ê´œì°®ë‹¤ëŠ” ê²ƒì„ ì•„ì´ì—ê²Œ ì•Œë ¤ì£¼ì„¸ìš”. 
ì•„ì´ê°€ ê°ì •ì„ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ì•ˆì „í•œ ê³µê°„ì„ ë§Œë“¤ì–´ì£¼ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.`,

                communication: `ì•„ì´ì™€ íš¨ê³¼ì ìœ¼ë¡œ ì†Œí†µí•˜ë ¤ë©´ ë¨¼ì € ë“¤ì–´ì£¼ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. 
ì•„ì´ê°€ ë§í•  ë•ŒëŠ” ì¤‘ê°„ì— ë¼ì–´ë“¤ì§€ ë§ê³  ëê¹Œì§€ ë“¤ì–´ì£¼ì„¸ìš”. 
ì•„ì´ì˜ ëˆˆë†’ì´ì— ë§ì¶° ì•‰ì•„ì„œ ëŒ€í™”í•˜ë©´ ë” ì˜ ì†Œí†µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
ì§ˆë¬¸ì„ í•  ë•ŒëŠ” "ì™œ ê·¸ë¬ì–´?"ë³´ë‹¤ëŠ” "ì–´ë–»ê²Œ ìƒê°í•´?"ì²˜ëŸ¼ ì—´ë¦° ì§ˆë¬¸ì„ í•˜ì„¸ìš”. 
ì•„ì´ì˜ ë§ì— ê³µê°í•˜ê³  ì´í•´í•˜ë ¤ëŠ” ìì„¸ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.`,

                selfesteem: `ì•„ì´ì˜ ìì¡´ê°ì„ í‚¤ìš°ë ¤ë©´ ë¨¼ì € ì•„ì´ë¥¼ ìˆëŠ” ê·¸ëŒ€ë¡œ ë°›ì•„ë“¤ì—¬ì•¼ í•©ë‹ˆë‹¤. 
ì•„ì´ê°€ ì˜í•œ ì¼ì— ëŒ€í•´ êµ¬ì²´ì ìœ¼ë¡œ ì¹­ì°¬í•´ì£¼ì„¸ìš”. 
"ì—´ì‹¬íˆ í–ˆêµ¬ë‚˜", "ë„ì™€ì¤˜ì„œ ê³ ë§ˆì›Œ"ì²˜ëŸ¼ í–‰ë™ì„ ì¹­ì°¬í•˜ë©´ ì•„ì´ëŠ” ìì‹ ê°ì„ ê°–ê²Œ ë©ë‹ˆë‹¤. 
ì•„ì´ê°€ ì‹¤íŒ¨í–ˆì„ ë•Œë„ í•¨ê»˜ ê²©ë ¤í•˜ê³ , ë‹¤ìŒì—ëŠ” ë” ì˜í•  ìˆ˜ ìˆë‹¤ê³  ë¯¿ì–´ì£¼ì„¸ìš”. 
ì•„ì´ê°€ ìì‹ ì˜ ì˜ê²¬ì„ í‘œí˜„í•  ìˆ˜ ìˆë„ë¡ ê¸°íšŒë¥¼ ì£¼ëŠ” ê²ƒë„ ì¤‘ìš”í•©ë‹ˆë‹¤.`,

                behavior: `ì•„ì´ì˜ í–‰ë™ ë’¤ì—ëŠ” í•­ìƒ ì´ìœ ê°€ ìˆìŠµë‹ˆë‹¤. 
ì•„ì´ê°€ ë–¼ë¥¼ ì“°ê±°ë‚˜ ë¬¸ì œ í–‰ë™ì„ í•  ë•Œ, ë¨¼ì € ì™œ ê·¸ëŸ° í–‰ë™ì„ í•˜ëŠ”ì§€ ìƒê°í•´ë³´ì„¸ìš”. 
í”¼ê³¤í•˜ê±°ë‚˜ ë°°ê³ í”„ê±°ë‚˜, ê´€ì‹¬ì„ ë°›ê³  ì‹¶ì–´ì„œì¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. 
í–‰ë™ ìì²´ë¥¼ ë¹„ë‚œí•˜ê¸°ë³´ë‹¤ëŠ”, ì•„ì´ì˜ í•„ìš”ë¥¼ ì´í•´í•˜ë ¤ê³  ë…¸ë ¥í•˜ì„¸ìš”. 
ëª…í™•í•˜ê³  ì¼ê´€ëœ ê·œì¹™ì„ ì •í•˜ê³ , ì¢‹ì€ í–‰ë™ì—ëŠ” ê¸ì •ì ìœ¼ë¡œ ë°˜ì‘í•´ì£¼ì„¸ìš”.`,

                anxiety: `ì•„ì´ë“¤ë„ ë¶ˆì•ˆì„ ëŠë‚„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
ìƒˆë¡œìš´ í™˜ê²½ì´ë‚˜ ë³€í™”ì— ëŒ€í•´ ë¶ˆì•ˆí•´í•˜ëŠ” ê²ƒì€ ìì—°ìŠ¤ëŸ¬ìš´ ì¼ì…ë‹ˆë‹¤. 
ì•„ì´ê°€ ë¶ˆì•ˆí•´í•  ë•ŒëŠ” ì•ˆì‹¬ì‹œì¼œì£¼ê³ , í•¨ê»˜ ëŒ€ì²˜ ë°©ë²•ì„ ì°¾ì•„ë³´ì„¸ìš”. 
ê¹Šê²Œ ìˆ¨ì„ ë“¤ì´ì‰¬ê³  ë‚´ì‰¬ëŠ” í˜¸í¡ ì—°ìŠµì„ í•¨ê»˜ í•´ë³´ëŠ” ê²ƒë„ ì¢‹ìŠµë‹ˆë‹¤. 
ì•„ì´ì˜ ë¶ˆì•ˆì´ ë„ˆë¬´ ì‹¬í•˜ê±°ë‚˜ ì˜¤ë˜ ì§€ì†ë˜ë©´ ì „ë¬¸ê°€ì˜ ë„ì›€ì„ ë°›ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.`
            };

            textInput.value = examples[type] || '';
            charCount.textContent = textInput.value.length;
        }

        // ì´ˆê¸° ê¸€ì ìˆ˜ í‘œì‹œ
        charCount.textContent = textInput.value.length;
    </script>
</body>
</html>

